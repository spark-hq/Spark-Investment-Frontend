import{j as e}from"./data-vendor-m194QmGP.js";import{u as A,b as L,r as o,L as f}from"./react-router-CRup_Xac.js";import{u as P}from"./index-DlljZSOo.js";import{v,a as y}from"./validation-D_gjHRZT.js";import{S as V,V as h,g as q,aA as B,aE as D,az as R,aF as N}from"./icons-C7Hv1O-7.js";import"./react-vendor-Bzgz95E1.js";const T=()=>{const c=A(),m=L(),{login:k,isAuthenticated:g}=P(),[t,S]=o.useState({email:"",password:"",keepSignedIn:!1}),[a,n]=o.useState({email:"",password:"",form:""}),[i,b]=o.useState({email:!1,password:!1}),[d,E]=o.useState(!1),[u,w]=o.useState(!1);o.useEffect(()=>{if(g){const r=m.state?.from?.pathname||"/dashboard";c(r,{replace:!0})}},[g,c,m]),o.useEffect(()=>{if(i.email){const r=v(t.email);n(s=>({...s,email:r.error}))}},[t.email,i.email]),o.useEffect(()=>{if(i.password){const r=y(t.password,"Password");n(s=>({...s,password:r.error}))}},[t.password,i.password]);const p=r=>{const{name:s,value:l,type:C,checked:F}=r.target;S(x=>({...x,[s]:C==="checkbox"?F:l})),a.form&&n(x=>({...x,form:""}))},j=r=>{b(s=>({...s,[r]:!0}))},I=()=>{const r=v(t.email),s=y(t.password,"Password");return n({email:r.error,password:s.error,form:""}),b({email:!0,password:!0}),r.isValid&&s.isValid},z=async r=>{if(r.preventDefault(),!!I()){w(!0),n(s=>({...s,form:""}));try{const s=await k(t.email,t.password,t.keepSignedIn);if(s.success){const l=m.state?.from?.pathname||"/dashboard";c(l,{replace:!0})}else n(l=>({...l,form:s.error||"Login failed. Please check your credentials."}))}catch{n(l=>({...l,form:"An unexpected error occurred. Please try again."}))}finally{w(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(f,{to:"/",className:"inline-flex items-center justify-center space-x-2 mb-6","aria-label":"Go to Spark Investment homepage",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-3 rounded-xl shadow-lg","aria-hidden":"true",children:e.jsx(V,{className:"text-white",size:28})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Spark Investment"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to access your investment dashboard"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-gray-100 p-8",children:[e.jsxs("form",{onSubmit:z,className:"space-y-6","aria-label":"Login form",children:[a.form&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start space-x-3",role:"alert","aria-live":"polite","aria-atomic":"true",children:[e.jsx(h,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20,"aria-hidden":"true"}),e.jsx("p",{className:"text-sm text-red-800 font-medium",children:a.form})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none","aria-hidden":"true",children:e.jsx(q,{className:"text-gray-400",size:20})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,"aria-required":"true","aria-invalid":a.email&&i.email?"true":"false","aria-describedby":a.email&&i.email?"email-error":void 0,value:t.email,onChange:p,onBlur:()=>j("email"),className:`block w-full pl-12 pr-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${a.email&&i.email?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 focus:border-indigo-500 focus:ring-indigo-200"}`,placeholder:"you@example.com"})]}),a.email&&i.email&&e.jsxs("p",{id:"email-error",className:"mt-2 text-sm text-red-600 flex items-center space-x-1",role:"alert",children:[e.jsx(h,{size:14,"aria-hidden":"true"}),e.jsx("span",{children:a.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none","aria-hidden":"true",children:e.jsx(B,{className:"text-gray-400",size:20})}),e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,"aria-required":"true","aria-invalid":a.password&&i.password?"true":"false","aria-describedby":a.password&&i.password?"password-error":void 0,value:t.password,onChange:p,onBlur:()=>j("password"),className:`block w-full pl-12 pr-12 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${a.password&&i.password?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 focus:border-indigo-500 focus:ring-indigo-200"}`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>E(!d),"aria-label":d?"Hide password":"Show password","aria-pressed":d,className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded",children:d?e.jsx(D,{size:20,"aria-hidden":"true"}):e.jsx(R,{size:20,"aria-hidden":"true"})})]}),a.password&&i.password&&e.jsxs("p",{id:"password-error",className:"mt-2 text-sm text-red-600 flex items-center space-x-1",role:"alert",children:[e.jsx(h,{size:14,"aria-hidden":"true"}),e.jsx("span",{children:a.password})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"keepSignedIn",name:"keepSignedIn",type:"checkbox",checked:t.keepSignedIn,onChange:p,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded cursor-pointer"}),e.jsx("label",{htmlFor:"keepSignedIn",className:"ml-2 block text-sm text-gray-700 cursor-pointer",children:"Keep me signed in"})]}),e.jsx(f,{to:"/forgot-password",className:"text-sm font-semibold text-indigo-600 hover:text-indigo-700 transition-colors",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:u,"aria-busy":u,"aria-live":"polite",className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-4 rounded-xl font-bold text-base hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-4 focus:ring-indigo-200 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 group",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin","aria-hidden":"true"}),e.jsx("span",{children:"Signing in..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sign In"}),e.jsx(N,{size:20,className:"group-hover:translate-x-1 transition-transform","aria-hidden":"true"})]})})]}),e.jsxs("div",{className:"mt-6 relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t-2 border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"New to Spark Investment?"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(f,{to:"/signup",className:"w-full flex items-center justify-center px-4 py-3 border-2 border-indigo-600 text-indigo-600 rounded-xl font-bold text-base hover:bg-indigo-50 focus:outline-none focus:ring-4 focus:ring-indigo-200 transition-all duration-200 group",children:[e.jsx("span",{children:"Create an Account"}),e.jsx(N,{size:20,className:"ml-2 group-hover:translate-x-1 transition-transform"})]})})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border-2 border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-sm text-blue-800 font-medium text-center",children:[e.jsx("strong",{children:"Demo Mode:"})," Use any email and password to sign in"]})})]})})};export{T as default};
//# sourceMappingURL=Login-BcDQnc4X.js.map
