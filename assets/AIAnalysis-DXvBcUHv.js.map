{"version":3,"file":"AIAnalysis-DXvBcUHv.js","sources":["../../src/components/ai-analysis/RiskMeter.jsx","../../src/components/ai-analysis/ProConsList.jsx","../../src/components/ai-analysis/PredictionChart.jsx","../../src/components/ai-analysis/AnalysisCard.jsx","../../src/components/ai-analysis/HealthScore.jsx","../../src/components/ai-analysis/AIExplanation.jsx","../../src/components/ai-analysis/ValuationBadge.jsx","../../src/hooks/useAI.js","../../src/pages/AIAnalysis.jsx"],"sourcesContent":["// src/components/ai-analysis/RiskMeter.jsx\r\n\r\nimport React from 'react';\r\nimport { AlertTriangle, Shield, TrendingUp } from 'lucide-react';\r\n\r\nconst RiskMeter = ({ riskLevel, riskScore, volatility }) => {\r\n  // Get color based on risk level\r\n  const getRiskColor = () => {\r\n    switch (riskLevel) {\r\n      case 'Low':\r\n        return {\r\n          bg: 'from-green-500 to-emerald-500',\r\n          text: 'text-green-600',\r\n          lightBg: 'bg-green-50',\r\n          border: 'border-green-200',\r\n          icon: Shield,\r\n        };\r\n      case 'Medium':\r\n        return {\r\n          bg: 'from-yellow-500 to-orange-500',\r\n          text: 'text-yellow-600',\r\n          lightBg: 'bg-yellow-50',\r\n          border: 'border-yellow-200',\r\n          icon: TrendingUp,\r\n        };\r\n      case 'High':\r\n        return {\r\n          bg: 'from-red-500 to-pink-500',\r\n          text: 'text-red-600',\r\n          lightBg: 'bg-red-50',\r\n          border: 'border-red-200',\r\n          icon: AlertTriangle,\r\n        };\r\n      default:\r\n        return {\r\n          bg: 'from-gray-500 to-gray-600',\r\n          text: 'text-gray-600',\r\n          lightBg: 'bg-gray-50',\r\n          border: 'border-gray-200',\r\n          icon: Shield,\r\n        };\r\n    }\r\n  };\r\n\r\n  const riskColors = getRiskColor();\r\n  const RiskIcon = riskColors.icon;\r\n  \r\n  // Calculate percentage for gauge (0-100)\r\n  const percentage = (riskScore / 10) * 100;\r\n\r\n  return (\r\n    <div className={`${riskColors.lightBg} rounded-xl p-6 border-2 ${riskColors.border}`}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-bold text-gray-900\">Risk Assessment</h3>\r\n        <div className={`bg-gradient-to-r ${riskColors.bg} p-2 rounded-lg`}>\r\n          <RiskIcon className=\"text-white\" size={20} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Risk Level Badge */}\r\n      <div className=\"flex items-center justify-center mb-6\">\r\n        <div className={`bg-gradient-to-r ${riskColors.bg} text-white px-6 py-3 rounded-full shadow-lg`}>\r\n          <span className=\"text-2xl font-bold\">{riskLevel} Risk</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Risk Score Gauge */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <span className=\"text-sm font-medium text-gray-600\">Risk Score</span>\r\n          <span className={`text-2xl font-bold ${riskColors.text}`}>\r\n            {riskScore}/10\r\n          </span>\r\n        </div>\r\n        \r\n        {/* Progress Bar */}\r\n        <div className=\"relative h-4 bg-gray-200 rounded-full overflow-hidden\">\r\n          <div\r\n            className={`absolute top-0 left-0 h-full bg-gradient-to-r ${riskColors.bg} transition-all duration-1000 ease-out`}\r\n            style={{ width: `${percentage}%` }}\r\n          >\r\n            <div className=\"absolute inset-0 bg-white opacity-20 animate-pulse\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Scale Labels */}\r\n        <div className=\"flex justify-between mt-2 text-xs text-gray-500\">\r\n          <span>0 (Safe)</span>\r\n          <span>5 (Moderate)</span>\r\n          <span>10 (High)</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Volatility Info */}\r\n      <div className={`bg-white rounded-lg p-4 border ${riskColors.border}`}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <p className=\"text-xs text-gray-500 mb-1\">Volatility</p>\r\n            <p className={`font-bold ${riskColors.text}`}>{volatility}</p>\r\n          </div>\r\n          <div className={`${riskColors.lightBg} px-3 py-1 rounded-full`}>\r\n            <span className={`text-xs font-semibold ${riskColors.text}`}>\r\n              {riskScore < 4 ? '‚óè‚óè‚óã‚óã‚óã' : riskScore < 7 ? '‚óè‚óè‚óè‚óã‚óã' : '‚óè‚óè‚óè‚óè‚óè'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Risk Description */}\r\n      <div className=\"mt-4 text-center\">\r\n        <p className=\"text-sm text-gray-600\">\r\n          {riskLevel === 'Low' && 'Stable investment with minimal volatility'}\r\n          {riskLevel === 'Medium' && 'Balanced risk-reward profile'}\r\n          {riskLevel === 'High' && 'Significant price fluctuations expected'}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RiskMeter;","// src/components/ai-analysis/ProConsList.jsx\r\n\r\nimport React from 'react';\r\nimport { ThumbsUp, ThumbsDown, CheckCircle, XCircle } from 'lucide-react';\r\n\r\nconst ProConsList = ({ pros, cons }) => {\r\n  return (\r\n    <div className=\"grid md:grid-cols-2 gap-6\">\r\n      {/* Pros Section */}\r\n      <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center space-x-3 mb-6\">\r\n          <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 p-3 rounded-xl\">\r\n            <ThumbsUp className=\"text-white\" size={24} />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-xl font-bold text-gray-900\">Pros</h3>\r\n            <p className=\"text-sm text-gray-600\">Positive factors</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Pros List */}\r\n        <div className=\"space-y-3\">\r\n          {pros.map((pro, index) => (\r\n            <div\r\n              key={index}\r\n              className=\"flex items-start space-x-3 bg-white rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow\"\r\n            >\r\n              <div className=\"flex-shrink-0 mt-0.5\">\r\n                <CheckCircle className=\"text-green-600\" size={20} />\r\n              </div>\r\n              <p className=\"text-sm text-gray-700 leading-relaxed\">{pro}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Summary */}\r\n        <div className=\"mt-4 pt-4 border-t border-green-200\">\r\n          <p className=\"text-sm font-semibold text-green-700 text-center\">\r\n            {pros.length} Positive Factors Identified\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Cons Section */}\r\n      <div className=\"bg-gradient-to-br from-red-50 to-pink-50 rounded-xl p-6 border-2 border-red-200\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center space-x-3 mb-6\">\r\n          <div className=\"bg-gradient-to-r from-red-600 to-pink-600 p-3 rounded-xl\">\r\n            <ThumbsDown className=\"text-white\" size={24} />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-xl font-bold text-gray-900\">Cons</h3>\r\n            <p className=\"text-sm text-gray-600\">Risk factors</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Cons List */}\r\n        <div className=\"space-y-3\">\r\n          {cons.map((con, index) => (\r\n            <div\r\n              key={index}\r\n              className=\"flex items-start space-x-3 bg-white rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow\"\r\n            >\r\n              <div className=\"flex-shrink-0 mt-0.5\">\r\n                <XCircle className=\"text-red-600\" size={20} />\r\n              </div>\r\n              <p className=\"text-sm text-gray-700 leading-relaxed\">{con}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Summary */}\r\n        <div className=\"mt-4 pt-4 border-t border-red-200\">\r\n          <p className=\"text-sm font-semibold text-red-700 text-center\">\r\n            {cons.length} Risk Factors to Consider\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProConsList;","// src/components/ai-analysis/PredictionChart.jsx\r\n\r\nimport React, { useMemo } from 'react';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Area, AreaChart, ReferenceLine } from 'recharts';\r\nimport { TrendingUp, Brain } from 'lucide-react';\r\n//  investmentName to be addded in future for dynamic titles\r\nconst PredictionChart = ({ historicalData, predictions, formatCurrency }) => {\r\n  // Combine historical and prediction data - Memoized to prevent recalculation\r\n  const combinedData = useMemo(() => [\r\n    ...historicalData.map(item => ({\r\n      year: item.year === 0 ? 'Now' : `${Math.abs(item.year)}Y ago`,\r\n      yearNum: item.year,\r\n      value: item.value,\r\n      type: 'historical',\r\n      confidence: 100,\r\n    })),\r\n    ...predictions.slice(1).map(item => ({\r\n      year: `+${item.year}Y`,\r\n      yearNum: item.year,\r\n      predicted: item.value,\r\n      type: 'prediction',\r\n      confidence: item.confidence,\r\n    }))\r\n  ], [historicalData, predictions]);\r\n\r\n  // Custom tooltip\r\n  const CustomTooltip = ({ active, payload }) => {\r\n    if (active && payload && payload.length) {\r\n      const data = payload[0].payload;\r\n      return (\r\n        <div className=\"bg-white p-4 rounded-lg shadow-xl border-2 border-indigo-200\">\r\n          <p className=\"font-bold text-gray-900 mb-2\">{data.year}</p>\r\n          {data.type === 'historical' ? (\r\n            <>\r\n              <p className=\"text-sm text-gray-600\">\r\n                <span className=\"font-semibold\">Value: </span>\r\n                {formatCurrency(data.value)}\r\n              </p>\r\n              <p className=\"text-xs text-green-600 mt-1\">\r\n                ‚úì Historical Data\r\n              </p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <p className=\"text-sm text-gray-600\">\r\n                <span className=\"font-semibold\">Predicted: </span>\r\n                {formatCurrency(data.predicted)}\r\n              </p>\r\n              <p className=\"text-xs text-purple-600 mt-1\">\r\n                AI Confidence: {data.confidence}%\r\n              </p>\r\n            </>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl p-4 sm:p-6 border-2 border-purple-100 shadow-lg\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4 sm:mb-6\">\r\n        <div className=\"flex items-center space-x-2 sm:space-x-3\">\r\n          <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 p-2 sm:p-3 rounded-xl flex-shrink-0\">\r\n            <Brain className=\"text-white\" size={20} />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-base sm:text-xl font-bold text-gray-900\">AI Price Prediction</h3>\r\n            <p className=\"text-xs sm:text-sm text-gray-600\">Historical + 5-year forecast</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2 bg-purple-100 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg\">\r\n          <TrendingUp className=\"text-purple-600\" size={14} />\r\n          <span className=\"text-xs sm:text-sm font-semibold text-purple-600\">¬±5 Years</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chart - Mobile */}\r\n      <div className=\"sm:hidden\">\r\n        <ResponsiveContainer width=\"100%\" height={250}>\r\n          <AreaChart data={combinedData}>\r\n            <defs>\r\n              <linearGradient id=\"colorHistorical\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"5%\" stopColor=\"#6366f1\" stopOpacity={0.3}/>\r\n                <stop offset=\"95%\" stopColor=\"#6366f1\" stopOpacity={0.1}/>\r\n              </linearGradient>\r\n              <linearGradient id=\"colorPrediction\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"5%\" stopColor=\"#a855f7\" stopOpacity={0.3}/>\r\n                <stop offset=\"95%\" stopColor=\"#a855f7\" stopOpacity={0.1}/>\r\n              </linearGradient>\r\n            </defs>\r\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n            <XAxis\r\n              dataKey=\"year\"\r\n              tick={{ fontSize: 9, fill: '#6b7280' }}\r\n              angle={0}\r\n            />\r\n            <YAxis\r\n              tickFormatter={(value) => `‚Çπ${(value / 1000).toFixed(0)}K`}\r\n              tick={{ fontSize: 9, fill: '#6b7280' }}\r\n              width={50}\r\n            />\r\n            <Tooltip content={<CustomTooltip />} />\r\n            <ReferenceLine\r\n              x=\"Now\"\r\n              stroke=\"#10b981\"\r\n              strokeWidth={1.5}\r\n              strokeDasharray=\"3 3\"\r\n            />\r\n            <Area\r\n              type=\"monotone\"\r\n              dataKey=\"value\"\r\n              stroke=\"#6366f1\"\r\n              strokeWidth={2}\r\n              fill=\"url(#colorHistorical)\"\r\n              dot={false}\r\n            />\r\n            <Area\r\n              type=\"monotone\"\r\n              dataKey=\"predicted\"\r\n              stroke=\"#a855f7\"\r\n              strokeWidth={2}\r\n              fill=\"url(#colorPrediction)\"\r\n              strokeDasharray=\"3 3\"\r\n              dot={false}\r\n            />\r\n          </AreaChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Chart - Desktop */}\r\n      <div className=\"hidden sm:block\">\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <AreaChart data={combinedData}>\r\n            <defs>\r\n              <linearGradient id=\"colorHistorical\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"5%\" stopColor=\"#6366f1\" stopOpacity={0.3}/>\r\n                <stop offset=\"95%\" stopColor=\"#6366f1\" stopOpacity={0.1}/>\r\n              </linearGradient>\r\n              <linearGradient id=\"colorPrediction\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                <stop offset=\"5%\" stopColor=\"#a855f7\" stopOpacity={0.3}/>\r\n                <stop offset=\"95%\" stopColor=\"#a855f7\" stopOpacity={0.1}/>\r\n              </linearGradient>\r\n            </defs>\r\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n            <XAxis\r\n              dataKey=\"year\"\r\n              tick={{ fontSize: 12, fill: '#6b7280' }}\r\n            />\r\n            <YAxis\r\n              tickFormatter={(value) => `‚Çπ${(value / 1000).toFixed(0)}K`}\r\n              tick={{ fontSize: 12, fill: '#6b7280' }}\r\n            />\r\n            <Tooltip content={<CustomTooltip />} />\r\n            <Legend\r\n              wrapperStyle={{ paddingTop: '20px' }}\r\n              iconType=\"circle\"\r\n            />\r\n            <ReferenceLine\r\n              x=\"Now\"\r\n              stroke=\"#10b981\"\r\n              strokeWidth={2}\r\n              strokeDasharray=\"5 5\"\r\n              label={{ value: 'Now', position: 'top', fill: '#10b981', fontWeight: 'bold' }}\r\n            />\r\n            <Area\r\n              type=\"monotone\"\r\n              dataKey=\"value\"\r\n              stroke=\"#6366f1\"\r\n              strokeWidth={3}\r\n              fill=\"url(#colorHistorical)\"\r\n              name=\"Historical Price\"\r\n              dot={{ r: 4, fill: '#6366f1' }}\r\n              activeDot={{ r: 6 }}\r\n            />\r\n            <Area\r\n              type=\"monotone\"\r\n              dataKey=\"predicted\"\r\n              stroke=\"#a855f7\"\r\n              strokeWidth={3}\r\n              fill=\"url(#colorPrediction)\"\r\n              strokeDasharray=\"5 5\"\r\n              name=\"AI Prediction\"\r\n              dot={{ r: 4, fill: '#a855f7' }}\r\n              activeDot={{ r: 6 }}\r\n            />\r\n          </AreaChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Legend Info */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mt-4 sm:mt-6\">\r\n        <div className=\"bg-indigo-50 rounded-lg p-2.5 sm:p-3 border border-indigo-200\">\r\n          <div className=\"flex items-center space-x-2 mb-1\">\r\n            <div className=\"w-2.5 h-2.5 sm:w-3 sm:h-3 bg-indigo-600 rounded-full flex-shrink-0\"></div>\r\n            <span className=\"text-xs sm:text-sm font-semibold text-gray-900\">Historical Data</span>\r\n          </div>\r\n          <p className=\"text-xs text-gray-600\">Past 5 years actual performance</p>\r\n        </div>\r\n        <div className=\"bg-purple-50 rounded-lg p-2.5 sm:p-3 border border-purple-200\">\r\n          <div className=\"flex items-center space-x-2 mb-1\">\r\n            <div className=\"w-2.5 h-2.5 sm:w-3 sm:h-3 bg-purple-600 rounded-full flex-shrink-0\"></div>\r\n            <span className=\"text-xs sm:text-sm font-semibold text-gray-900\">AI Prediction</span>\r\n          </div>\r\n          <p className=\"text-xs text-gray-600\">Next 5 years forecasted trend</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Disclaimer */}\r\n      <div className=\"mt-3 sm:mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-2.5 sm:p-3\">\r\n        <p className=\"text-xs text-gray-600 leading-relaxed\">\r\n          <span className=\"font-semibold text-yellow-700\">‚ö†Ô∏è Disclaimer:</span> AI predictions are based on historical patterns and current market conditions. Actual results may vary significantly. Always conduct your own research before making investment decisions.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PredictionChart;","// src/components/ai-analysis/AnalysisCard.jsx\r\n\r\nimport React from 'react';\r\nimport { Target, Shield, TrendingUp, TrendingDown, Brain, Sparkles, BarChart3 } from 'lucide-react';\r\n\r\nconst AnalysisCard = ({ analysis, formatCurrency }) => {\r\n  // Get recommendation color\r\n  const getRecommendationStyle = (recommendation) => {\r\n    const styles = {\r\n      'Strong Buy': {\r\n        bg: 'from-green-600 to-emerald-600',\r\n        text: 'text-green-600',\r\n        lightBg: 'bg-green-50',\r\n        border: 'border-green-200',\r\n        icon: 'üöÄ',\r\n      },\r\n      'Buy': {\r\n        bg: 'from-green-500 to-green-600',\r\n        text: 'text-green-600',\r\n        lightBg: 'bg-green-50',\r\n        border: 'border-green-200',\r\n        icon: 'üìà',\r\n      },\r\n      'Hold': {\r\n        bg: 'from-yellow-500 to-orange-500',\r\n        text: 'text-yellow-600',\r\n        lightBg: 'bg-yellow-50',\r\n        border: 'border-yellow-200',\r\n        icon: '‚è∏Ô∏è',\r\n      },\r\n      'Sell': {\r\n        bg: 'from-red-500 to-red-600',\r\n        text: 'text-red-600',\r\n        lightBg: 'bg-red-50',\r\n        border: 'border-red-200',\r\n        icon: 'üìâ',\r\n      },\r\n      'Strong Sell': {\r\n        bg: 'from-red-600 to-pink-600',\r\n        text: 'text-red-600',\r\n        lightBg: 'bg-red-50',\r\n        border: 'border-red-200',\r\n        icon: '‚ö†Ô∏è',\r\n      },\r\n    };\r\n    return styles[recommendation] || styles['Hold'];\r\n  };\r\n\r\n  const recStyle = getRecommendationStyle(analysis.recommendation);\r\n\r\n  return (\r\n    <div className=\"space-y-6 z-0\">\r\n      {/* Recommendation Card */}\r\n      <div className={`bg-gradient-to-r ${recStyle.bg} text-white rounded-xl p-6 shadow-xl hover-lift overflow-hidden relative`}>\r\n        <div className=\"absolute inset-0 bg-white opacity-5\">\r\n          <div className=\"absolute inset-0\" style={{\r\n            backgroundImage: 'radial-gradient(circle at 2px 2px, white 1px, transparent 0)',\r\n            backgroundSize: '40px 40px'\r\n          }}></div>\r\n        </div>\r\n        \r\n        <div className=\"relative z-10\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"bg-white bg-opacity-20 p-3 rounded-xl backdrop-blur-sm\">\r\n                <Brain className=\"text-white\" size={32} />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-white opacity-90 text-sm\">AI Recommendation</p>\r\n                <h3 className=\"text-3xl font-bold flex items-center space-x-2\">\r\n                  <span>{recStyle.icon}</span>\r\n                  <span>{analysis.recommendation}</span>\r\n                </h3>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Confidence Badge */}\r\n            <div className=\"bg-white bg-opacity-20 px-4 py-2 rounded-full backdrop-blur-sm\">\r\n              <div className=\"text-center\">\r\n                <p className=\"text-xs opacity-90\">Confidence</p>\r\n                <p className=\"text-2xl font-bold\">{analysis.confidence}%</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Target & Stop Loss */}\r\n          <div className=\"grid grid-cols-2 gap-4 mt-6\">\r\n            <div className=\"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm\">\r\n              <div className=\"flex items-center space-x-2 mb-1\">\r\n                <Target size={16} />\r\n                <p className=\"text-sm opacity-90\">Target Price</p>\r\n              </div>\r\n              <p className=\"text-xl font-bold\">{formatCurrency(analysis.targetPrice)}</p>\r\n            </div>\r\n            <div className=\"bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm\">\r\n              <div className=\"flex items-center space-x-2 mb-1\">\r\n                <Shield size={16} />\r\n                <p className=\"text-sm opacity-90\">Stop Loss</p>\r\n              </div>\r\n              <p className=\"text-xl font-bold\">{formatCurrency(analysis.stopLoss)}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Key Metrics Grid */}\r\n      {analysis.keyMetrics && (\r\n        <div className=\"bg-white rounded-xl p-6 border-2 border-indigo-100 shadow-md\">\r\n          <div className=\"flex items-center space-x-2 mb-4\">\r\n            <BarChart3 className=\"text-indigo-600\" size={24} />\r\n            <h3 className=\"text-lg font-bold text-gray-900\">Key Financial Metrics</h3>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n            {analysis.keyMetrics.pe_ratio && (\r\n              <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-3 text-center\">\r\n                <p className=\"text-xs text-gray-600 mb-1\">P/E Ratio</p>\r\n                <p className=\"text-lg font-bold text-indigo-600\">{analysis.keyMetrics.pe_ratio}</p>\r\n              </div>\r\n            )}\r\n            {analysis.keyMetrics.pb_ratio && (\r\n              <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-3 text-center\">\r\n                <p className=\"text-xs text-gray-600 mb-1\">P/B Ratio</p>\r\n                <p className=\"text-lg font-bold text-purple-600\">{analysis.keyMetrics.pb_ratio}</p>\r\n              </div>\r\n            )}\r\n            {analysis.keyMetrics.roe && (\r\n              <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-3 text-center\">\r\n                <p className=\"text-xs text-gray-600 mb-1\">ROE</p>\r\n                <p className=\"text-lg font-bold text-green-600\">{analysis.keyMetrics.roe}%</p>\r\n              </div>\r\n            )}\r\n            {analysis.keyMetrics.debtToEquity !== null && (\r\n              <div className=\"bg-gradient-to-br from-orange-50 to-red-50 rounded-lg p-3 text-center\">\r\n                <p className=\"text-xs text-gray-600 mb-1\">Debt/Equity</p>\r\n                <p className=\"text-lg font-bold text-orange-600\">{analysis.keyMetrics.debtToEquity}</p>\r\n              </div>\r\n            )}\r\n            <div className=\"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg p-3 text-center\">\r\n              <p className=\"text-xs text-gray-600 mb-1\">Dividend Yield</p>\r\n              <p className=\"text-lg font-bold text-yellow-600\">{analysis.keyMetrics.dividendYield}%</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Sector Analysis */}\r\n      <div className=\"bg-white rounded-xl p-6 border-2 border-blue-100 shadow-md\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Sector Analysis</h3>\r\n        \r\n        <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\r\n          <div className=\"flex items-center justify-between bg-blue-50 rounded-lg p-3\">\r\n            <span className=\"text-sm text-gray-600\">Sector</span>\r\n            <span className=\"font-bold text-gray-900\">{analysis.sectorAnalysis.sector}</span>\r\n          </div>\r\n          <div className=\"flex items-center justify-between bg-green-50 rounded-lg p-3\">\r\n            <span className=\"text-sm text-gray-600\">Growth</span>\r\n            <span className=\"font-bold text-green-600\">{analysis.sectorAnalysis.sectorGrowth}</span>\r\n          </div>\r\n          <div className=\"flex items-center justify-between bg-purple-50 rounded-lg p-3\">\r\n            <span className=\"text-sm text-gray-600\">Market Share</span>\r\n            <span className=\"font-bold text-purple-600\">{analysis.sectorAnalysis.marketShare}</span>\r\n          </div>\r\n          <div className=\"flex items-center justify-between bg-indigo-50 rounded-lg p-3\">\r\n            <span className=\"text-sm text-gray-600\">Position</span>\r\n            <span className=\"font-bold text-indigo-600\">{analysis.sectorAnalysis.competitivePosition}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-gray-50 rounded-lg p-4 border border-gray-200\">\r\n          <p className=\"text-sm text-gray-700 leading-relaxed\">{analysis.sectorAnalysis.insights}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Diversification Score */}\r\n      <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-200\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-bold text-gray-900\">Portfolio Diversification</h3>\r\n          <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-full\">\r\n            <span className=\"text-2xl font-bold\">{analysis.diversificationScore}/10</span>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Progress Bar */}\r\n        <div className=\"mb-4\">\r\n          <div className=\"relative h-3 bg-white rounded-full overflow-hidden\">\r\n            <div\r\n              className=\"absolute top-0 left-0 h-full bg-gradient-to-r from-purple-600 to-pink-600 transition-all duration-1000\"\r\n              style={{ width: `${analysis.diversificationScore * 10}%` }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n\r\n        <p className=\"text-sm text-gray-700 leading-relaxed\">{analysis.diversificationInsight}</p>\r\n      </div>\r\n\r\n      {/* Benchmark Comparison */}\r\n      <div className=\"bg-white rounded-xl p-6 border-2 border-gray-100 shadow-md\">\r\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Benchmark Comparison</h3>\r\n        \r\n        <div className=\"grid md:grid-cols-2 gap-4\">\r\n          {Object.entries(analysis.benchmarks).map(([key, benchmark]) => (\r\n            <div key={key} className=\"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h4 className=\"font-bold text-gray-900\">{benchmark.name}</h4>\r\n                <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                  benchmark.comparison.includes('Outperforming') \r\n                    ? 'bg-green-100 text-green-700' \r\n                    : benchmark.comparison.includes('Underperforming')\r\n                    ? 'bg-red-100 text-red-700'\r\n                    : 'bg-yellow-100 text-yellow-700'\r\n                }`}>\r\n                  {benchmark.comparison}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Index Performance:</span>\r\n                  <span className=\"font-semibold text-gray-900\">{benchmark.performance}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-600\">Differential:</span>\r\n                  <span className={`font-bold ${\r\n                    benchmark.differential.startsWith('+') ? 'text-green-600' : 'text-red-600'\r\n                  }`}>\r\n                    {benchmark.differential}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* AI Insights */}\r\n      <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl p-6 shadow-xl\">\r\n        <div className=\"flex items-center space-x-2 mb-4\">\r\n          <Sparkles className=\"animate-pulse\" size={24} />\r\n          <h3 className=\"text-xl font-bold\">AI-Generated Insights</h3>\r\n        </div>\r\n        \r\n        <div className=\"space-y-3\">\r\n          {analysis.aiInsights.map((insight, index) => (\r\n            <div key={index} className=\"flex items-start space-x-3 bg-white bg-opacity-10 rounded-lg p-3 backdrop-blur-sm\">\r\n              <span className=\"text-white font-bold flex-shrink-0\">{index + 1}.</span>\r\n              <p className=\"text-white text-sm leading-relaxed\">{insight}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnalysisCard;","// src/components/ai-analysis/HealthScore.jsx\r\n\r\nimport React from 'react';\r\nimport { Activity, TrendingUp } from 'lucide-react';\r\n\r\nconst HealthScore = ({ healthScore, healthGrade }) => {\r\n  // Get color based on score\r\n  const getScoreColor = () => {\r\n    if (healthScore >= 80) {\r\n      return {\r\n        bg: 'from-green-500 to-emerald-500',\r\n        text: 'text-green-600',\r\n        lightBg: 'bg-green-50',\r\n        border: 'border-green-200',\r\n        ring: 'ring-green-500',\r\n      };\r\n    } else if (healthScore >= 60) {\r\n      return {\r\n        bg: 'from-blue-500 to-indigo-500',\r\n        text: 'text-blue-600',\r\n        lightBg: 'bg-blue-50',\r\n        border: 'border-blue-200',\r\n        ring: 'ring-blue-500',\r\n      };\r\n    } else if (healthScore >= 40) {\r\n      return {\r\n        bg: 'from-yellow-500 to-orange-500',\r\n        text: 'text-yellow-600',\r\n        lightBg: 'bg-yellow-50',\r\n        border: 'border-yellow-200',\r\n        ring: 'ring-yellow-500',\r\n      };\r\n    } else {\r\n      return {\r\n        bg: 'from-red-500 to-pink-500',\r\n        text: 'text-red-600',\r\n        lightBg: 'bg-red-50',\r\n        border: 'border-red-200',\r\n        ring: 'ring-red-500',\r\n      };\r\n    }\r\n  };\r\n\r\n  const colors = getScoreColor();\r\n  const percentage = healthScore;\r\n\r\n  return (\r\n    <div className={`${colors.lightBg} rounded-xl p-6 border-2 ${colors.border} hover-lift`}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h3 className=\"text-lg font-bold text-gray-900\">Investment Health</h3>\r\n        <div className={`bg-gradient-to-r ${colors.bg} p-2 rounded-lg`}>\r\n          <Activity className=\"text-white\" size={20} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Circular Progress */}\r\n      <div className=\"flex items-center justify-center mb-6\">\r\n        <div className=\"relative\">\r\n          {/* Background Circle */}\r\n          <svg className=\"transform -rotate-90\" width=\"160\" height=\"160\">\r\n            <circle\r\n              cx=\"80\"\r\n              cy=\"80\"\r\n              r=\"70\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"12\"\r\n              fill=\"none\"\r\n              className=\"text-gray-200\"\r\n            />\r\n            {/* Progress Circle */}\r\n            <circle\r\n              cx=\"80\"\r\n              cy=\"80\"\r\n              r=\"70\"\r\n              stroke=\"url(#gradient)\"\r\n              strokeWidth=\"12\"\r\n              fill=\"none\"\r\n              strokeDasharray={`${2 * Math.PI * 70}`}\r\n              strokeDashoffset={`${2 * Math.PI * 70 * (1 - percentage / 100)}`}\r\n              strokeLinecap=\"round\"\r\n              className=\"transition-all duration-1000 ease-out\"\r\n            />\r\n            <defs>\r\n              <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                <stop offset=\"0%\" className={colors.text} stopOpacity=\"1\" />\r\n                <stop offset=\"100%\" className={colors.text} stopOpacity=\"0.6\" />\r\n              </linearGradient>\r\n            </defs>\r\n          </svg>\r\n          \r\n          {/* Center Content */}\r\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\r\n            <div className={`text-5xl font-bold ${colors.text}`}>{healthScore}</div>\r\n            <div className=\"text-sm text-gray-600 mt-1\">out of 100</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Grade Badge */}\r\n      <div className=\"flex items-center justify-center mb-4\">\r\n        <div className={`bg-gradient-to-r ${colors.bg} text-white px-6 py-3 rounded-full shadow-lg`}>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-xs opacity-90 mb-1\">GRADE</div>\r\n            <div className=\"text-3xl font-bold\">{healthGrade}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Health Status */}\r\n      <div className={`bg-white rounded-lg p-4 border ${colors.border}`}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <p className=\"text-xs text-gray-500 mb-1\">Health Status</p>\r\n            <p className={`font-bold ${colors.text} text-lg`}>\r\n              {healthScore >= 80 ? 'Excellent' : \r\n               healthScore >= 60 ? 'Good' : \r\n               healthScore >= 40 ? 'Fair' : 'Poor'}\r\n            </p>\r\n          </div>\r\n          <TrendingUp className={colors.text} size={24} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Description */}\r\n      <div className=\"mt-4 text-center\">\r\n        <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n          {healthScore >= 80 ? 'Strong fundamentals with minimal concerns' : \r\n           healthScore >= 60 ? 'Healthy investment with manageable risks' : \r\n           healthScore >= 40 ? 'Moderate concerns, requires monitoring' : \r\n           'Significant concerns, high caution advised'}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HealthScore;","// src/components/ai-analysis/AIExplanation.jsx\r\n\r\nimport React from 'react';\r\nimport { Brain, Lightbulb, MessageCircle } from 'lucide-react';\r\n\r\nconst AIExplanation = ({ explanation, recommendation }) => {\r\n  // Get color based on recommendation\r\n  const getRecommendationColor = () => {\r\n    if (recommendation.includes('Buy')) {\r\n      return {\r\n        bg: 'from-green-600 to-emerald-600',\r\n        lightBg: 'bg-green-50',\r\n        border: 'border-green-200',\r\n        text: 'text-green-600',\r\n      };\r\n    } else if (recommendation === 'Hold') {\r\n      return {\r\n        bg: 'from-yellow-600 to-orange-600',\r\n        lightBg: 'bg-yellow-50',\r\n        border: 'border-yellow-200',\r\n        text: 'text-yellow-600',\r\n      };\r\n    } else {\r\n      return {\r\n        bg: 'from-red-600 to-pink-600',\r\n        lightBg: 'bg-red-50',\r\n        border: 'border-red-200',\r\n        text: 'text-red-600',\r\n      };\r\n    }\r\n  };\r\n\r\n  const colors = getRecommendationColor();\r\n\r\n  return (\r\n    <div className={`${colors.lightBg} rounded-xl p-6 border-2 ${colors.border}`}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center space-x-3 mb-6\">\r\n        <div className={`bg-gradient-to-r ${colors.bg} p-3 rounded-xl`}>\r\n          <Brain className=\"text-white\" size={24} />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"text-xl font-bold text-gray-900\">AI Explanation</h3>\r\n          <p className=\"text-sm text-gray-600\">Why {recommendation}?</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Explanation Box */}\r\n      <div className=\"bg-white rounded-lg p-5 shadow-sm border border-gray-200 mb-4\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          <div className={`${colors.lightBg} p-2 rounded-lg flex-shrink-0 mt-1`}>\r\n            <MessageCircle className={colors.text} size={20} />\r\n          </div>\r\n          <p className=\"text-gray-700 leading-relaxed text-base\">\r\n            {explanation}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Key Insight Badge */}\r\n      <div className=\"flex items-center justify-center\">\r\n        <div className={`${colors.lightBg} border ${colors.border} rounded-full px-4 py-2 flex items-center space-x-2`}>\r\n          <Lightbulb className={colors.text} size={16} />\r\n          <span className={`text-sm font-semibold ${colors.text}`}>\r\n            AI-Generated Insight\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bottom Info */}\r\n      <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n        <p className=\"text-xs text-gray-500 text-center\">\r\n          This explanation is generated by analyzing multiple factors including fundamentals, \r\n          technicals, market sentiment, and historical patterns.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIExplanation;","// src/components/ai-analysis/ValuationBadge.jsx\r\n\r\nimport React from 'react';\r\nimport { DollarSign, TrendingDown, TrendingUp, Minus } from 'lucide-react';\r\n\r\nconst ValuationBadge = ({ valuation, valuationScore }) => {\r\n  // Get valuation style\r\n  const getValuationStyle = () => {\r\n    switch (valuation) {\r\n      case 'Undervalued':\r\n        return {\r\n          bg: 'from-green-600 to-emerald-600',\r\n          lightBg: 'bg-green-50',\r\n          border: 'border-green-200',\r\n          text: 'text-green-600',\r\n          icon: TrendingDown,\r\n          emoji: 'üíé',\r\n          description: 'Trading below intrinsic value - potential buying opportunity',\r\n        };\r\n      case 'Fair':\r\n        return {\r\n          bg: 'from-blue-600 to-indigo-600',\r\n          lightBg: 'bg-blue-50',\r\n          border: 'border-blue-200',\r\n          text: 'text-blue-600',\r\n          icon: Minus,\r\n          emoji: '‚öñÔ∏è',\r\n          description: 'Trading at fair value - reasonably priced',\r\n        };\r\n      case 'Overvalued':\r\n        return {\r\n          bg: 'from-red-600 to-pink-600',\r\n          lightBg: 'bg-red-50',\r\n          border: 'border-red-200',\r\n          text: 'text-red-600',\r\n          icon: TrendingUp,\r\n          emoji: '‚ö†Ô∏è',\r\n          description: 'Trading above intrinsic value - exercise caution',\r\n        };\r\n      default:\r\n        return {\r\n          bg: 'from-gray-600 to-gray-700',\r\n          lightBg: 'bg-gray-50',\r\n          border: 'border-gray-200',\r\n          text: 'text-gray-600',\r\n          icon: DollarSign,\r\n          emoji: '‚ùì',\r\n          description: 'Valuation analysis in progress',\r\n        };\r\n    }\r\n  };\r\n\r\n  const style = getValuationStyle();\r\n  const ValuationIcon = style.icon;\r\n\r\n  return (\r\n    <div className={`${style.lightBg} rounded-xl p-6 border-2 ${style.border} hover-lift`}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h3 className=\"text-lg font-bold text-gray-900\">Valuation Analysis</h3>\r\n        <div className={`bg-gradient-to-r ${style.bg} p-2 rounded-lg`}>\r\n          <DollarSign className=\"text-white\" size={20} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Valuation Badge */}\r\n      <div className=\"flex items-center justify-center mb-6\">\r\n        <div className={`bg-gradient-to-r ${style.bg} text-white px-8 py-4 rounded-2xl shadow-xl`}>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-4xl mb-2\">{style.emoji}</div>\r\n            <div className=\"text-2xl font-bold mb-1\">{valuation}</div>\r\n            <div className=\"flex items-center justify-center space-x-2 text-sm opacity-90\">\r\n              <ValuationIcon size={16} />\r\n              <span>Score: {valuationScore}/100</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Valuation Bar */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"relative h-3 bg-gray-200 rounded-full overflow-hidden\">\r\n          {/* Gradient bar */}\r\n          <div\r\n            className={`absolute top-0 left-0 h-full bg-gradient-to-r ${style.bg} transition-all duration-1000`}\r\n            style={{ width: `${valuationScore}%` }}\r\n          >\r\n            <div className=\"absolute inset-0 bg-white opacity-20 animate-pulse\"></div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Scale markers */}\r\n        <div className=\"flex justify-between mt-2 text-xs text-gray-500\">\r\n          <span>0</span>\r\n          <span>Undervalued</span>\r\n          <span>Fair</span>\r\n          <span>Overvalued</span>\r\n          <span>100</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Description */}\r\n      <div className=\"bg-white rounded-lg p-4 border border-gray-200\">\r\n        <p className=\"text-sm text-gray-700 leading-relaxed text-center\">\r\n          {style.description}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Interpretation Guide */}\r\n      <div className=\"mt-4 space-y-2\">\r\n        <div className=\"flex items-center space-x-2 text-xs text-gray-600\">\r\n          <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n          <span>Undervalued (0-40): Good entry point</span>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2 text-xs text-gray-600\">\r\n          <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\r\n          <span>Fair (40-70): Reasonably priced</span>\r\n        </div>\r\n        <div className=\"flex items-center space-x-2 text-xs text-gray-600\">\r\n          <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\r\n          <span>Overvalued (70-100): Exercise caution</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ValuationBadge;","// ===================================\r\n// useAI Hook\r\n// ===================================\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { aiAPI } from '../services/api';\r\nimport useStore from '../store/useStore';\r\nimport toast from 'react-hot-toast';\r\n\r\n// ===================================\r\n// Portfolio Insights\r\n// ===================================\r\nexport const usePortfolioInsights = () => {\r\n  const setAIInsights = useStore((state) => state.setAIInsights);\r\n\r\n  return useQuery({\r\n    queryKey: ['ai', 'insights'],\r\n    queryFn: async () => {\r\n      const response = await aiAPI.getPortfolioInsights();\r\n      setAIInsights(response.data);\r\n      return response.data;\r\n    },\r\n    staleTime: 300000, // 5 minutes\r\n    refetchInterval: 600000, // Refetch every 10 minutes\r\n  });\r\n};\r\n\r\n// ===================================\r\n// AI Recommendations\r\n// ===================================\r\nexport const useAIRecommendations = () => {\r\n  const setAIRecommendations = useStore((state) => state.setAIRecommendations);\r\n\r\n  return useQuery({\r\n    queryKey: ['ai', 'recommendations'],\r\n    queryFn: async () => {\r\n      const response = await aiAPI.getRecommendations();\r\n      setAIRecommendations(response.data);\r\n      return response.data;\r\n    },\r\n    staleTime: 300000, // 5 minutes\r\n    refetchInterval: 600000, // Refetch every 10 minutes\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Risk Analysis\r\n// ===================================\r\nexport const useRiskAnalysis = () => {\r\n  const setRiskAnalysis = useStore((state) => state.setRiskAnalysis);\r\n\r\n  return useQuery({\r\n    queryKey: ['ai', 'risk-analysis'],\r\n    queryFn: async () => {\r\n      const response = await aiAPI.getRiskAnalysis();\r\n      setRiskAnalysis(response.data);\r\n      return response.data;\r\n    },\r\n    staleTime: 300000, // 5 minutes\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Market Sentiment\r\n// ===================================\r\nexport const useMarketSentiment = () => {\r\n  return useQuery({\r\n    queryKey: ['ai', 'market-sentiment'],\r\n    queryFn: async () => {\r\n      const response = await aiAPI.getMarketSentiment();\r\n      return response.data;\r\n    },\r\n    staleTime: 120000, // 2 minutes\r\n    refetchInterval: 300000, // Refetch every 5 minutes\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Quick Insights\r\n// ===================================\r\nexport const useQuickInsights = () => {\r\n  return useQuery({\r\n    queryKey: ['ai', 'quick-insights'],\r\n    queryFn: async () => {\r\n      const response = await aiAPI.getQuickInsights();\r\n      return response.data;\r\n    },\r\n    staleTime: 60000, // 1 minute\r\n  });\r\n};\r\n\r\n// ===================================\r\n// AI Chat Mutation\r\n// ===================================\r\nexport const useAIChat = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (message) => aiAPI.chat(message),\r\n    onSuccess: (data) => {\r\n      // Optionally invalidate queries if chat response affects recommendations\r\n      // queryClient.invalidateQueries({ queryKey: ['ai'] });\r\n      return data;\r\n    },\r\n    onError: (error) => {\r\n      toast.error(`AI Chat Error: ${error.message}`);\r\n    },\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Investment-Specific AI Analysis\r\n// ===================================\r\nexport const useInvestmentAnalysis = (investmentId) => {\r\n  return useQuery({\r\n    queryKey: ['ai', 'investment-analysis', investmentId],\r\n    queryFn: async () => {\r\n      if (!investmentId) return null;\r\n      const response = await aiAPI.getInvestmentAnalysis(investmentId);\r\n      return response.data;\r\n    },\r\n    enabled: !!investmentId, // Only run query if investmentId exists\r\n    staleTime: 300000, // 5 minutes\r\n    refetchInterval: 600000, // Refetch every 10 minutes\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Complete AI Analysis (for AI Analysis page)\r\n// ===================================\r\nexport const useCompleteAIAnalysis = () => {\r\n  const insightsQuery = usePortfolioInsights();\r\n  const recommendationsQuery = useAIRecommendations();\r\n  const riskQuery = useRiskAnalysis();\r\n  const sentimentQuery = useMarketSentiment();\r\n\r\n  return {\r\n    insights: insightsQuery.data,\r\n    recommendations: recommendationsQuery.data,\r\n    riskAnalysis: riskQuery.data,\r\n    marketSentiment: sentimentQuery.data,\r\n    isLoading:\r\n      insightsQuery.isLoading ||\r\n      recommendationsQuery.isLoading ||\r\n      riskQuery.isLoading ||\r\n      sentimentQuery.isLoading,\r\n    isError:\r\n      insightsQuery.isError ||\r\n      recommendationsQuery.isError ||\r\n      riskQuery.isError ||\r\n      sentimentQuery.isError,\r\n    refetch: () => {\r\n      insightsQuery.refetch();\r\n      recommendationsQuery.refetch();\r\n      riskQuery.refetch();\r\n      sentimentQuery.refetch();\r\n    },\r\n  };\r\n};\r\n\r\n// ===================================\r\n// Prefetch AI Data\r\n// ===================================\r\nexport const usePrefetchAIData = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return () => {\r\n    queryClient.prefetchQuery({\r\n      queryKey: ['ai', 'insights'],\r\n      queryFn: () => aiAPI.getPortfolioInsights(),\r\n    });\r\n\r\n    queryClient.prefetchQuery({\r\n      queryKey: ['ai', 'recommendations'],\r\n      queryFn: () => aiAPI.getRecommendations(),\r\n    });\r\n  };\r\n};\r\n","// src/pages/AIAnalysis.jsx\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Brain, Sparkles, ArrowLeft, RefreshCw, Download } from 'lucide-react';\r\nimport Card from '../components/ui/Card';\r\nimport Button from '../components/ui/Button';\r\nimport RiskMeter from '../components/ai-analysis/RiskMeter';\r\nimport ProConsList from '../components/ai-analysis/ProConsList';\r\nimport PredictionChart from '../components/ai-analysis/PredictionChart';\r\nimport AnalysisCard from '../components/ai-analysis/AnalysisCard';\r\nimport HealthScore from '../components/ai-analysis/HealthScore';\r\nimport AIExplanation from '../components/ai-analysis/AIExplanation';\r\nimport ValuationBadge from '../components/ai-analysis/ValuationBadge';\r\nimport LoadingSpinner from '../components/ui/LoadingSpinner';\r\nimport { ErrorDisplay } from '../components/ui/ErrorBoundary';\r\nimport { useInvestmentAnalysis } from '../hooks/useAI';\r\nimport { useInvestments } from '../hooks/useInvestments';\r\n\r\nconst AIAnalysis = () => {\r\n  const navigate = useNavigate();\r\n  const [selectedInvestmentId, setSelectedInvestmentId] = useState(null);\r\n\r\n  // Fetch user's investments for the selector\r\n  const { data: investments = [], isLoading: investmentsLoading } = useInvestments();\r\n\r\n  // Fetch AI analysis data for selected investment\r\n  const {\r\n    data: investmentAnalysis,\r\n    isLoading: aiLoading,\r\n    isError: aiError,\r\n    refetch\r\n  } = useInvestmentAnalysis(selectedInvestmentId);\r\n\r\n  // Set first investment as default when investments load\r\n  useEffect(() => {\r\n    if (!selectedInvestmentId && investments.length > 0) {\r\n      setSelectedInvestmentId(investments[0].id);\r\n    }\r\n  }, [investments, selectedInvestmentId]);\r\n\r\n  // Get currently selected investment\r\n  const selectedInvestment = investments.find(inv => inv.id === selectedInvestmentId);\r\n\r\n  // Debug logging\r\n  useEffect(() => {\r\n    console.log('üîÑ Selected Investment ID:', selectedInvestmentId);\r\n    console.log('üìä Selected Investment:', selectedInvestment);\r\n    console.log('ü§ñ Investment Analysis Data:', investmentAnalysis);\r\n  }, [selectedInvestmentId, selectedInvestment, investmentAnalysis]);\r\n\r\n  // Combine loading states\r\n  const isLoading = investmentsLoading || aiLoading;\r\n\r\n  // Create currentAnalysis object from investment-specific AI data (MUST be before any returns)\r\n  const currentAnalysis = useMemo(() => {\r\n    console.log('üîÑ Recalculating currentAnalysis for:', selectedInvestment?.name);\r\n    console.log('üìä Using investment analysis:', investmentAnalysis);\r\n\r\n    // Return null if no analysis data available yet\r\n    if (!investmentAnalysis) return null;\r\n\r\n    // Use the per-investment analysis data directly from the API\r\n    return {\r\n      analysisDate: investmentAnalysis.analysisDate || new Date().toLocaleDateString('en-IN', {\r\n        day: '2-digit',\r\n        month: 'short',\r\n        year: 'numeric'\r\n      }),\r\n      // Risk metrics from per-investment analysis\r\n      riskLevel: investmentAnalysis.riskLevel || 'MEDIUM',\r\n      riskScore: investmentAnalysis.riskScore || 55,\r\n      volatility: investmentAnalysis.volatility || 'Moderate',\r\n      // Health metrics from per-investment analysis\r\n      healthScore: investmentAnalysis.healthScore || 75,\r\n      healthGrade: investmentAnalysis.healthGrade || 'B+',\r\n      // Valuation from per-investment analysis\r\n      valuation: investmentAnalysis.valuation || 'Fair Value',\r\n      valuationScore: investmentAnalysis.valuationScore || 7.5,\r\n      // Recommendation from per-investment analysis\r\n      recommendation: investmentAnalysis.recommendation || 'HOLD',\r\n      confidence: investmentAnalysis.confidence || 75,\r\n      targetPrice: investmentAnalysis.targetPrice || selectedInvestment?.currentPrice * 1.15 || 0,\r\n      stopLoss: investmentAnalysis.stopLoss || selectedInvestment?.currentPrice * 0.92 || 0,\r\n      // Pros and cons from per-investment analysis\r\n      pros: investmentAnalysis.pros || [],\r\n      cons: investmentAnalysis.cons || [],\r\n      // AI explanation from per-investment analysis\r\n      explanation: investmentAnalysis.aiExplanation || 'AI analysis is being processed...',\r\n      // Sector analysis from per-investment analysis\r\n      sectorAnalysis: investmentAnalysis.sectorAnalysis || {\r\n        sector: selectedInvestment?.sector || 'Diversified',\r\n        sectorGrowth: 'Positive',\r\n        marketShare: 'Leading',\r\n        competitivePosition: 'Strong',\r\n        insights: `Analysis for ${selectedInvestment?.name || 'this investment'} is being generated.`\r\n      },\r\n      // Benchmarks from per-investment analysis\r\n      benchmarks: investmentAnalysis.benchmarks || {\r\n        nifty50: {\r\n          name: 'NIFTY 50',\r\n          performance: 'N/A',\r\n          comparison: 'Calculating',\r\n          differential: 'N/A'\r\n        },\r\n        sensex: {\r\n          name: 'SENSEX',\r\n          performance: 'N/A',\r\n          comparison: 'Calculating',\r\n          differential: 'N/A'\r\n        }\r\n      },\r\n      // Diversification from per-investment analysis\r\n      diversificationScore: investmentAnalysis.diversificationScore || 7.0,\r\n      diversificationInsight: investmentAnalysis.diversificationInsight || 'Diversification analysis is being calculated.',\r\n      // AI insights from per-investment analysis\r\n      aiInsights: investmentAnalysis.aiInsights || [\r\n        'AI is analyzing this investment...',\r\n        'Detailed insights will be available shortly.',\r\n        'Please wait while we process market data.'\r\n      ],\r\n      // Historical data and predictions from per-investment analysis\r\n      historicalData: investmentAnalysis.historicalData || [],\r\n      predictions: investmentAnalysis.predictions || [],\r\n      investmentName: selectedInvestment?.name || investmentAnalysis.investmentName || 'Investment'\r\n    };\r\n  }, [investmentAnalysis, selectedInvestment]);\r\n\r\n  // Format currency\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      maximumFractionDigits: 0,\r\n    }).format(amount);\r\n  };\r\n\r\n  // Handle investment change\r\n  const handleInvestmentChange = (e) => {\r\n    setSelectedInvestmentId(e.target.value);\r\n  };\r\n\r\n  // Handle refresh analysis\r\n  const handleRefresh = () => {\r\n    refetch(); // Refetch all AI data\r\n  };\r\n\r\n  // Handle download report\r\n  const handleDownload = () => {\r\n    alert('Download feature will be implemented with backend!');\r\n  };\r\n\r\n  // Show loading spinner while fetching data\r\n  if (investmentsLoading) {\r\n    return <LoadingSpinner fullScreen message=\"Loading your investments...\" />;\r\n  }\r\n\r\n  // Show error if AI data fetch fails\r\n  if (aiError) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 py-8 px-4 flex items-center justify-center\">\r\n        <div className=\"max-w-md\">\r\n          <ErrorDisplay error={aiError} retry={refetch} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!currentAnalysis) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex items-center justify-center\">\r\n        <LoadingSpinner message=\"Generating AI analysis...\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 py-8 px-4\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8 animate-fadeIn\">\r\n          <button\r\n            onClick={() => navigate('/dashboard')}\r\n            className=\"text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 font-medium mb-4 flex items-center space-x-2 transition-colors px-4 py-3 rounded-lg min-h-[44px]\"\r\n          >\r\n            <ArrowLeft size={20} />\r\n            <span>Back to Dashboard</span>\r\n          </button>\r\n\r\n          <div className=\"flex items-center justify-center space-x-3 mb-4\">\r\n            <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-3 rounded-2xl shadow-lg\">\r\n              <Brain className=\"text-white\" size={32} />\r\n            </div>\r\n            <h1 className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900\">\r\n              AI Investment Analysis\r\n            </h1>\r\n            <Sparkles className=\"text-purple-600 animate-pulse\" size={32} />\r\n          </div>\r\n          <p className=\"text-xl text-gray-600 text-center\">\r\n            Deep insights powered by advanced AI algorithms\r\n          </p>\r\n        </div>\r\n\r\n        {/* Investment Selector Card */}\r\n        <Card className=\"mb-8 animate-fadeIn border-2 border-indigo-100 shadow-xl\">\r\n          <div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\r\n            <div className=\"flex items-center space-x-4 flex-1 w-full\">\r\n              <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-3 rounded-xl\">\r\n                <Brain className=\"text-white\" size={24} />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Select Investment for Analysis\r\n                </label>\r\n                <select\r\n                  value={selectedInvestmentId || ''}\r\n                  onChange={handleInvestmentChange}\r\n                  className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer text-base font-medium\"\r\n                  disabled={aiLoading}\r\n                >\r\n                  {investments.length === 0 ? (\r\n                    <option value=\"\">No investments available</option>\r\n                  ) : (\r\n                    investments.map((investment) => (\r\n                      <option key={investment.id} value={investment.id}>\r\n                        {investment.name} ({investment.symbol}) - ‚Çπ{investment.currentPrice}\r\n                      </option>\r\n                    ))\r\n                  )}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              <Button\r\n                onClick={handleRefresh}\r\n                variant=\"outline\"\r\n                className=\"hover-lift flex items-center space-x-2\"\r\n                disabled={aiLoading}\r\n              >\r\n                <RefreshCw size={18} className={aiLoading ? 'animate-spin' : ''} />\r\n                <span>Refresh</span>\r\n              </Button>\r\n              <Button\r\n                onClick={handleDownload}\r\n                className=\"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 hover-lift flex items-center space-x-2\"\r\n                disabled={aiLoading}\r\n              >\r\n                <Download size={18} />\r\n                <span>Download Report</span>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Analysis Date */}\r\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n            <p className=\"text-sm text-gray-600 text-center\">\r\n              Analysis generated on: <span className=\"font-semibold text-gray-900\">{currentAnalysis.analysisDate}</span>\r\n            </p>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Loading State */}\r\n        {aiLoading ? (\r\n          <div className=\"flex flex-col items-center justify-center py-20 animate-fadeIn\">\r\n            <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 rounded-2xl mb-6 animate-pulse\">\r\n              <Brain className=\"text-white\" size={64} />\r\n            </div>\r\n            <h3 className=\"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2\">Analyzing Investment...</h3>\r\n            <p className=\"text-gray-600\">AI is processing market data and generating insights</p>\r\n            <div className=\"mt-6 flex space-x-2\">\r\n              <div className=\"w-3 h-3 bg-indigo-600 rounded-full animate-bounce\"></div>\r\n              <div className=\"w-3 h-3 bg-purple-600 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n              <div className=\"w-3 h-3 bg-pink-600 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* Three Column Layout - Risk, Health, Valuation */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-fadeIn\">\r\n              <RiskMeter\r\n                riskLevel={currentAnalysis.riskLevel}\r\n                riskScore={currentAnalysis.riskScore}\r\n                volatility={currentAnalysis.volatility}\r\n              />\r\n              <HealthScore\r\n                healthScore={currentAnalysis.healthScore}\r\n                healthGrade={currentAnalysis.healthGrade}\r\n              />\r\n              <ValuationBadge\r\n                valuation={currentAnalysis.valuation}\r\n                valuationScore={currentAnalysis.valuationScore}\r\n              />\r\n            </div>\r\n\r\n            {/* Analysis Card - Full Width */}\r\n            <div className=\"mb-8 animate-fadeIn\">\r\n              <AnalysisCard\r\n                analysis={currentAnalysis}\r\n                formatCurrency={formatCurrency}\r\n              />\r\n            </div>\r\n\r\n            {/* AI Explanation - Full Width */}\r\n            <div className=\"mb-8 animate-fadeIn\">\r\n              <AIExplanation\r\n                explanation={currentAnalysis.explanation}\r\n                recommendation={currentAnalysis.recommendation}\r\n              />\r\n            </div>\r\n\r\n            {/* Pros and Cons */}\r\n            <div className=\"mb-8 animate-fadeIn\">\r\n              <ProConsList\r\n                pros={currentAnalysis.pros}\r\n                cons={currentAnalysis.cons}\r\n              />\r\n            </div>\r\n\r\n            {/* Prediction Chart */}\r\n            <div className=\"mb-8 animate-fadeIn\">\r\n              <PredictionChart\r\n                historicalData={currentAnalysis.historicalData}\r\n                predictions={currentAnalysis.predictions}\r\n                investmentName={currentAnalysis.investmentName}\r\n                formatCurrency={formatCurrency}\r\n              />\r\n            </div>\r\n\r\n            {/* AI Disclaimer */}\r\n            <Card className=\"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 animate-fadeIn\">\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"bg-yellow-100 p-3 rounded-xl flex-shrink-0\">\r\n                  <Sparkles className=\"text-yellow-600\" size={24} />\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-2\">AI Analysis Disclaimer</h4>\r\n                  <p className=\"text-sm text-gray-700 leading-relaxed mb-3\">\r\n                    This AI-powered analysis is generated using advanced machine learning algorithms, historical market data, \r\n                    and current market trends. The insights, predictions, and recommendations provided are for informational \r\n                    purposes only and should not be considered as financial advice.\r\n                  </p>\r\n                  <ul className=\"text-sm text-gray-700 space-y-1 list-disc list-inside\">\r\n                    <li>Past performance does not guarantee future results</li>\r\n                    <li>Market conditions can change rapidly and unpredictably</li>\r\n                    <li>AI predictions have varying confidence levels</li>\r\n                    <li>Always conduct your own research before investing</li>\r\n                    <li>Consult a certified financial advisor for personalized advice</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n\r\n            {/* CTA - Back to Dashboard */}\r\n            <Card className=\"mt-8 bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-0 animate-fadeIn hover-lift shadow-xl overflow-hidden relative\">\r\n              <div className=\"absolute inset-0 bg-white opacity-5\">\r\n                <div className=\"absolute inset-0\" style={{\r\n                  backgroundImage: 'radial-gradient(circle at 2px 2px, white 1px, transparent 0)',\r\n                  backgroundSize: '40px 40px'\r\n                }}></div>\r\n              </div>\r\n              <div className=\"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <div className=\"bg-white bg-opacity-20 p-4 rounded-2xl backdrop-blur-sm\">\r\n                    <Brain className=\"text-white\" size={48} />\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-xl sm:text-2xl md:text-3xl font-bold mb-2\">Ready to Take Action?</h3>\r\n                    <p className=\"text-indigo-100\">\r\n                      View your complete portfolio or start live trading with AI assistance\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                  <Button\r\n                    onClick={() => navigate('/investments')}\r\n                    className=\"bg-white text-indigo-600 hover:bg-gray-100 hover-lift\"\r\n                  >\r\n                    View Portfolio ‚Üí\r\n                  </Button>\r\n                  <Button\r\n                    onClick={() => navigate('/live-trading')}\r\n                    className=\"bg-green-600 hover:bg-green-700 hover-lift\"\r\n                  >\r\n                    Start Trading ‚Üí\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIAnalysis;"],"names":["RiskMeter","riskLevel","riskScore","volatility","riskColors","Shield","TrendingUp","AlertTriangle","RiskIcon","percentage","jsxs","jsx","ProConsList","pros","cons","ThumbsUp","pro","index","CheckCircle","ThumbsDown","con","XCircle","PredictionChart","historicalData","predictions","formatCurrency","combinedData","useMemo","item","CustomTooltip","active","payload","data","Fragment","Brain","ResponsiveContainer","AreaChart","CartesianGrid","XAxis","YAxis","value","Tooltip","ReferenceLine","Area","Legend","AnalysisCard","analysis","recStyle","recommendation","styles","Target","BarChart3","key","benchmark","Sparkles","insight","HealthScore","healthScore","healthGrade","colors","Activity","AIExplanation","explanation","MessageCircle","Lightbulb","ValuationBadge","valuation","valuationScore","style","TrendingDown","Minus","DollarSign","ValuationIcon","useInvestmentAnalysis","investmentId","useQuery","aiAPI","AIAnalysis","navigate","useNavigate","selectedInvestmentId","setSelectedInvestmentId","useState","investments","investmentsLoading","useInvestments","investmentAnalysis","aiLoading","aiError","refetch","useEffect","selectedInvestment","inv","currentAnalysis","amount","handleInvestmentChange","e","handleRefresh","handleDownload","LoadingSpinner","ErrorDisplay","ArrowLeft","Card","investment","Button","RefreshCw","Download"],"mappings":"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"}