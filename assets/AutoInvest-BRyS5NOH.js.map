{"version":3,"file":"AutoInvest-BRyS5NOH.js","sources":["../../src/components/auto-invest/InvestmentPlanCard.jsx","../../src/components/auto-invest/PerformanceTracker.jsx","../../src/components/auto-invest/BacktestResults.jsx","../../src/components/auto-invest/RuleBuilder.jsx","../../src/hooks/useAutoInvest.js","../../src/pages/AutoInvest.jsx"],"sourcesContent":["// src/components/auto-invest/InvestmentPlanCard.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  TrendingUp,\r\n  Shield,\r\n  Clock,\r\n  DollarSign,\r\n  PieChart,\r\n  CheckCircle,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Star,\r\n  AlertTriangle,\r\n} from 'lucide-react';\r\nimport { formatCurrency } from '../../utils/calculations';\r\nimport { PieChart as RechartsPie, Pie, Cell, ResponsiveContainer, Tooltip } from 'recharts';\r\n\r\nconst InvestmentPlanCard = React.memo(({ plan, onActivate, isActive }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  // Risk level colors\r\n  const getRiskColor = (risk) => {\r\n    switch (risk) {\r\n      case 'Low':\r\n        return 'bg-green-100 text-green-700 border-green-300';\r\n      case 'Medium':\r\n        return 'bg-yellow-100 text-yellow-700 border-yellow-300';\r\n      case 'High':\r\n        return 'bg-orange-100 text-orange-700 border-orange-300';\r\n      case 'Very High':\r\n        return 'bg-red-100 text-red-700 border-red-300';\r\n      default:\r\n        return 'bg-gray-100 text-gray-700 border-gray-300';\r\n    }\r\n  };\r\n\r\n  // Status badge\r\n  const getStatusBadge = (status) => {\r\n    const badges = {\r\n      'Recommended': 'bg-blue-500 text-white',\r\n      'Most Popular': 'bg-purple-500 text-white',\r\n      'Trending': 'bg-pink-500 text-white',\r\n      'Best for Beginners': 'bg-green-500 text-white',\r\n    };\r\n    return badges[status] || 'bg-gray-500 text-white';\r\n  };\r\n\r\n  // Allocation pie chart data\r\n  const allocationData = Object.entries(plan.allocation).map(([key, value]) => ({\r\n    name: key.charAt(0).toUpperCase() + key.slice(1),\r\n    value: value,\r\n  }));\r\n\r\n  const COLORS = {\r\n    Stocks: '#6366f1',\r\n    'Mutual funds': '#10b981',\r\n    Crypto: '#f59e0b',\r\n    Etf: '#8b5cf6',\r\n  };\r\n\r\n  return (\r\n    <div className={`bg-white rounded-xl shadow-lg overflow-hidden border-2 transition-all ${isActive ? 'border-indigo-500 shadow-xl' : 'border-gray-200 hover:border-indigo-300'}`}>\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white relative overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-white opacity-5\">\r\n          <div\r\n            className=\"absolute inset-0\"\r\n            style={{\r\n              backgroundImage: 'radial-gradient(circle at 2px 2px, white 1px, transparent 0)',\r\n              backgroundSize: '40px 40px',\r\n            }}\r\n          ></div>\r\n        </div>\r\n\r\n        <div className=\"relative z-10\">\r\n          {/* Status Badge */}\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <span className={`px-3 py-1 rounded-full text-xs font-bold ${getStatusBadge(plan.status)}`}>\r\n              {plan.status}\r\n            </span>\r\n            <div className=\"flex items-center space-x-1 bg-white bg-opacity-20 px-3 py-1 rounded-full backdrop-blur-sm\">\r\n              <Star className=\"text-yellow-300\" size={14} />\r\n              <span className=\"text-sm font-bold\">{plan.aiConfidence}% AI Match</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Plan Name */}\r\n          <div className=\"flex items-center space-x-3 mb-2\">\r\n            <div className=\"text-5xl\">{plan.icon}</div>\r\n            <div>\r\n              <h3 className=\"text-2xl font-bold\">{plan.name}</h3>\r\n              <p className=\"text-indigo-100 text-sm\">{plan.description}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Stats */}\r\n          <div className=\"grid grid-cols-3 gap-3 mt-4\">\r\n            <div className=\"bg-white bg-opacity-20 p-3 rounded-lg backdrop-blur-sm\">\r\n              <p className=\"text-xs text-indigo-100 mb-1\">Expected Return</p>\r\n              <p className=\"text-lg font-bold\">{plan.expectedReturn}</p>\r\n            </div>\r\n            <div className=\"bg-white bg-opacity-20 p-3 rounded-lg backdrop-blur-sm\">\r\n              <p className=\"text-xs text-indigo-100 mb-1\">Risk Level</p>\r\n              <p className=\"text-lg font-bold\">{plan.riskLevel}</p>\r\n            </div>\r\n            <div className=\"bg-white bg-opacity-20 p-3 rounded-lg backdrop-blur-sm\">\r\n              <p className=\"text-xs text-indigo-100 mb-1\">Time Horizon</p>\r\n              <p className=\"text-lg font-bold\">{plan.timeHorizon}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Body */}\r\n      <div className=\"p-6\">\r\n        {/* Investment Details */}\r\n        <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n          <div className=\"flex items-start space-x-3\">\r\n            <div className=\"bg-indigo-100 p-2 rounded-lg\">\r\n              <DollarSign className=\"text-indigo-600\" size={20} />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">Min Investment</p>\r\n              <p className=\"text-sm font-bold text-gray-900\">{formatCurrency(plan.minInvestment)}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-start space-x-3\">\r\n            <div className=\"bg-green-100 p-2 rounded-lg\">\r\n              <TrendingUp className=\"text-green-600\" size={20} />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">Recommended</p>\r\n              <p className=\"text-sm font-bold text-gray-900\">{formatCurrency(plan.recommendedInvestment)}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Asset Allocation Pie Chart */}\r\n        <div className=\"mb-6\">\r\n          <h4 className=\"text-sm font-bold text-gray-900 mb-3 flex items-center space-x-2\">\r\n            <PieChart size={16} className=\"text-indigo-600\" />\r\n            <span>Asset Allocation</span>\r\n          </h4>\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <ResponsiveContainer width=\"100%\" height={120}>\r\n              <RechartsPie>\r\n                <Pie\r\n                  data={allocationData}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  innerRadius={30}\r\n                  outerRadius={50}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"value\"\r\n                  label={({ value }) => `${value}%`}\r\n                  labelLine={false}\r\n                >\r\n                  {allocationData.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={COLORS[entry.name] || '#6b7280'} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip />\r\n              </RechartsPie>\r\n            </ResponsiveContainer>\r\n            <div className=\"space-y-2\">\r\n              {allocationData.map((item, idx) => (\r\n                <div key={idx} className=\"flex items-center justify-between text-xs\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"w-3 h-3 rounded-full\" style={{ backgroundColor: COLORS[item.name] || '#6b7280' }}></div>\r\n                    <span className=\"text-gray-700 font-medium\">{item.name}</span>\r\n                  </div>\r\n                  <span className=\"text-gray-900 font-semibold\">{item.value}%</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Performance Metrics */}\r\n        <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\r\n          <h4 className=\"text-sm font-bold text-gray-900 mb-3\">Historical Performance</h4>\r\n          <div className=\"grid grid-cols-3 gap-3\">\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">1 Year</p>\r\n              <p className=\"text-lg font-bold text-green-600\">+{plan.performance.pastYear}%</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">3 Years</p>\r\n              <p className=\"text-lg font-bold text-green-600\">+{plan.performance.past3Years}%</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">5 Years</p>\r\n              <p className=\"text-lg font-bold text-green-600\">+{plan.performance.past5Years}%</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid grid-cols-2 gap-3 mt-3 pt-3 border-t border-gray-200\">\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">Sharpe Ratio</p>\r\n              <p className=\"text-sm font-semibold text-gray-900\">{plan.performance.sharpeRatio}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">Volatility</p>\r\n              <p className=\"text-sm font-semibold text-gray-900\">{plan.performance.volatility}%</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Expandable Section */}\r\n        <button\r\n          onClick={() => setExpanded(!expanded)}\r\n          className=\"w-full flex items-center justify-between text-indigo-600 hover:text-indigo-700 font-semibold text-sm mb-4 transition-colors\"\r\n        >\r\n          <span>{expanded ? 'Show Less' : 'Show More Details'}</span>\r\n          {expanded ? <ChevronUp size={18} /> : <ChevronDown size={18} />}\r\n        </button>\r\n\r\n        {expanded && (\r\n          <div className=\"space-y-4 animate-fadeIn\">\r\n            {/* Investment Rules */}\r\n            <div>\r\n              <h4 className=\"text-sm font-bold text-gray-900 mb-2 flex items-center space-x-2\">\r\n                <CheckCircle className=\"text-green-600\" size={16} />\r\n                <span>Investment Rules</span>\r\n              </h4>\r\n              <ul className=\"space-y-2\">\r\n                {plan.rules.map((rule, idx) => (\r\n                  <li key={idx} className=\"flex items-start space-x-2 text-xs text-gray-700\">\r\n                    <span className=\"text-indigo-600 font-bold\">\"</span>\r\n                    <span>{rule}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n\r\n            {/* Suitable For */}\r\n            <div>\r\n              <h4 className=\"text-sm font-bold text-gray-900 mb-2 flex items-center space-x-2\">\r\n                <Shield className=\"text-blue-600\" size={16} />\r\n                <span>Suitable For</span>\r\n              </h4>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {plan.suitableFor.map((item, idx) => (\r\n                  <span key={idx} className=\"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium border border-blue-200\">\r\n                    {item}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Detailed Asset Breakdown */}\r\n            <div>\r\n              <h4 className=\"text-sm font-bold text-gray-900 mb-2\">Asset Breakdown</h4>\r\n              <div className=\"space-y-2\">\r\n                {plan.assets.map((asset, idx) => (\r\n                  <div key={idx} className=\"flex justify-between items-center p-2 bg-gray-50 rounded-lg\">\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-xs font-semibold text-gray-900\">{asset.name}</p>\r\n                      <p className=\"text-xs text-gray-600\">{asset.examples}</p>\r\n                    </div>\r\n                    <span className=\"text-sm font-bold text-indigo-600\">{asset.allocation}%</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Action Button */}\r\n        <button\r\n          onClick={() => onActivate(plan)}\r\n          disabled={isActive}\r\n          className={`w-full mt-6 py-3 rounded-lg font-bold transition-all shadow-md hover:shadow-lg ${\r\n            isActive\r\n              ? 'bg-gray-300 text-gray-600 cursor-not-allowed'\r\n              : 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700'\r\n          }`}\r\n        >\r\n          {isActive ? 'Plan Activated \u0013' : `Activate ${plan.name}`}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nInvestmentPlanCard.displayName = 'InvestmentPlanCard';\r\n\r\nexport default InvestmentPlanCard;\r\n","// src/components/auto-invest/PerformanceTracker.jsx\r\n\r\nimport { TrendingUp, TrendingDown, Activity, DollarSign, Calendar, BarChart3, Play, Pause } from 'lucide-react';\r\nimport { formatCurrency } from '../../utils/calculations';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\r\n\r\nconst PerformanceTracker = ({ activePlans, performanceMetrics, onTogglePlan }) => {\r\n  // Mock performance chart data\r\n  const performanceChartData = [\r\n    { month: 'Oct', value: 93000 },\r\n    { month: 'Nov', value: 94800 },\r\n    { month: 'Dec', value: 96500 },\r\n    { month: 'Jan', value: 97200 },\r\n    { month: 'Feb', value: 99100 },\r\n    { month: 'Mar', value: 100400 },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Overall Performance Summary */}\r\n      <div className=\"bg-white rounded-xl shadow-md p-6 border-2 border-gray-100\">\r\n        <div className=\"flex items-center space-x-2 mb-6\">\r\n          <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 p-2 rounded-lg\">\r\n            <BarChart3 className=\"text-white\" size={20} />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-xl font-bold text-gray-900\">Portfolio Performance</h3>\r\n            <p className=\"text-sm text-gray-600\">Overall auto-invest performance</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Summary Grid */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n          <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 p-4 rounded-lg border border-indigo-100\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <DollarSign className=\"text-indigo-600\" size={18} />\r\n              <p className=\"text-xs text-gray-600 font-medium\">Total Invested</p>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-900\">{formatCurrency(performanceMetrics.totalInvested)}</p>\r\n          </div>\r\n\r\n          <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-lg border border-green-100\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <TrendingUp className=\"text-green-600\" size={18} />\r\n              <p className=\"text-xs text-gray-600 font-medium\">Current Value</p>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-900\">{formatCurrency(performanceMetrics.currentValue)}</p>\r\n          </div>\r\n\r\n          <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 p-4 rounded-lg border border-purple-100\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <Activity className=\"text-purple-600\" size={18} />\r\n              <p className=\"text-xs text-gray-600 font-medium\">Total Returns</p>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-green-600\">+{formatCurrency(performanceMetrics.totalReturns)}</p>\r\n            <p className=\"text-xs text-green-600 font-semibold\">+{performanceMetrics.overallReturnPercentage}%</p>\r\n          </div>\r\n\r\n          <div className=\"bg-gradient-to-br from-yellow-50 to-orange-50 p-4 rounded-lg border border-yellow-100\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <Calendar className=\"text-orange-600\" size={18} />\r\n              <p className=\"text-xs text-gray-600 font-medium\">Active Plans</p>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-900\">{performanceMetrics.totalPlansActive}</p>\r\n            <p className=\"text-xs text-gray-600\">{performanceMetrics.totalTransactions} transactions</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Performance Chart */}\r\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n          <h4 className=\"text-sm font-bold text-gray-900 mb-4\">Growth Over Time</h4>\r\n          <ResponsiveContainer width=\"100%\" height={200}>\r\n            <LineChart data={performanceChartData}>\r\n              <defs>\r\n                <linearGradient id=\"colorValue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3} />\r\n                  <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0} />\r\n                </linearGradient>\r\n              </defs>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n              <XAxis dataKey=\"month\" tick={{ fontSize: 12, fill: '#6b7280' }} />\r\n              <YAxis\r\n                tickFormatter={(value) => `ï¿½${(value / 1000).toFixed(0)}K`}\r\n                tick={{ fontSize: 12, fill: '#6b7280' }}\r\n              />\r\n              <Tooltip\r\n                formatter={(value) => formatCurrency(value)}\r\n                contentStyle={{\r\n                  backgroundColor: '#fff',\r\n                  border: '2px solid #e5e7eb',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n                }}\r\n              />\r\n              <Line\r\n                type=\"monotone\"\r\n                dataKey=\"value\"\r\n                stroke=\"#10b981\"\r\n                strokeWidth={3}\r\n                dot={{ r: 4, fill: '#10b981' }}\r\n                fill=\"url(#colorValue)\"\r\n              />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Active Plans List */}\r\n      <div className=\"bg-white rounded-xl shadow-md p-6 border-2 border-gray-100\">\r\n        <h3 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2\">\r\n          <Activity className=\"text-indigo-600\" size={20} />\r\n          <span>Active Auto-Invest Plans</span>\r\n        </h3>\r\n\r\n        {activePlans.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-6xl mb-4\">=ï¿½</div>\r\n            <p className=\"text-lg font-semibold text-gray-700 mb-2\">No active plans yet</p>\r\n            <p className=\"text-sm text-gray-500\">Activate a plan from the AI recommendations below</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {activePlans.map((plan) => (\r\n              <div\r\n                key={plan.id}\r\n                className=\"border-2 border-gray-200 rounded-xl p-4 hover:border-indigo-300 transition-all hover:shadow-md\"\r\n              >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div\r\n                      className={`w-3 h-3 rounded-full ${plan.status === 'Active' ? 'bg-green-500 animate-pulse' : 'bg-gray-400'}`}\r\n                    ></div>\r\n                    <div>\r\n                      <h4 className=\"font-bold text-gray-900\">{plan.planName}</h4>\r\n                      <p className=\"text-xs text-gray-600\">\r\n                        Started {new Date(plan.startDate).toLocaleDateString('en-IN', { day: '2-digit', month: 'short', year: 'numeric' })}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => onTogglePlan(plan.id)}\r\n                    className={`flex items-center space-x-2 px-4 py-2 rounded-lg font-semibold transition-all ${\r\n                      plan.status === 'Active'\r\n                        ? 'bg-red-100 text-red-700 hover:bg-red-200'\r\n                        : 'bg-green-100 text-green-700 hover:bg-green-200'\r\n                    }`}\r\n                  >\r\n                    {plan.status === 'Active' ? (\r\n                      <>\r\n                        <Pause size={16} />\r\n                        <span>Pause</span>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Play size={16} />\r\n                        <span>Resume</span>\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\r\n                  <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-600 mb-1\">Monthly SIP</p>\r\n                    <p className=\"text-sm font-bold text-gray-900\">{formatCurrency(plan.monthlyInvestment)}</p>\r\n                  </div>\r\n                  <div className=\"bg-purple-50 p-3 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-600 mb-1\">Total Invested</p>\r\n                    <p className=\"text-sm font-bold text-gray-900\">{formatCurrency(plan.totalInvested)}</p>\r\n                  </div>\r\n                  <div className=\"bg-green-50 p-3 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-600 mb-1\">Current Value</p>\r\n                    <p className=\"text-sm font-bold text-gray-900\">{formatCurrency(plan.currentValue)}</p>\r\n                  </div>\r\n                  <div className=\"bg-orange-50 p-3 rounded-lg\">\r\n                    <p className=\"text-xs text-gray-600 mb-1\">Returns</p>\r\n                    <p className=\"text-sm font-bold text-green-600\">+{formatCurrency(plan.returns)}</p>\r\n                    <p className=\"text-xs text-green-600 font-semibold\">+{plan.returnsPercentage.toFixed(2)}%</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-between bg-gray-50 p-3 rounded-lg\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Calendar className=\"text-gray-600\" size={16} />\r\n                    <span className=\"text-xs text-gray-700\">\r\n                      Next execution: <span className=\"font-semibold\">{new Date(plan.nextExecution).toLocaleDateString('en-IN', { day: '2-digit', month: 'short' })}</span>\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-600\">\r\n                    <span className=\"font-semibold\">{plan.executedTransactions}</span> / {plan.totalTransactions} transactions executed\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PerformanceTracker;\r\n","// src/components/auto-invest/BacktestResults.jsx\r\n\r\nimport React, { useMemo } from 'react';\r\nimport { TrendingUp, TrendingDown, Target, Activity, AlertTriangle, CheckCircle2, Award, BarChart3, LineChart as LineChartIcon, Shield } from 'lucide-react';\r\nimport { formatCurrency } from '../../utils/calculations';\r\nimport {\r\n  BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer,\r\n  LineChart, Line, Area, AreaChart, ReferenceLine\r\n} from 'recharts';\r\n\r\nconst BacktestResults = ({ backtest }) => {\r\n  if (!backtest) {\r\n    return (\r\n      <div className=\"bg-white rounded-xl shadow-md p-6 border-2 border-gray-100 text-center\">\r\n        <div className=\"text-6xl mb-4\">ðŸ“Š</div>\r\n        <p className=\"text-lg font-semibold text-gray-700 mb-2\">Select a plan to view backtest results</p>\r\n        <p className=\"text-sm text-gray-500\">Historical performance data will be displayed here</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const profitLoss = backtest.finalValue - backtest.initialInvestment;\r\n  const isProfitable = profitLoss > 0;\r\n\r\n  // Generate CAGR progression data (year-by-year compounding)\r\n  const cagrData = useMemo(() => {\r\n    const years = 5;\r\n    const cagr = backtest.annualizedReturn / 100;\r\n    const data = [];\r\n\r\n    for (let year = 0; year <= years; year++) {\r\n      const value = backtest.initialInvestment * Math.pow(1 + cagr, year);\r\n      data.push({\r\n        year: year === 0 ? 'Start' : `Y${year}`,\r\n        value: value,\r\n        cagr: year === 0 ? 0 : cagr * 100,\r\n      });\r\n    }\r\n\r\n    return data;\r\n  }, [backtest.initialInvestment, backtest.annualizedReturn]);\r\n\r\n  // Generate Sharpe ratio over time (simulated quarterly)\r\n  const sharpeData = useMemo(() => {\r\n    // Simulating Sharpe ratio progression over 20 quarters (5 years)\r\n    const quarters = 20;\r\n    const baseReturn = backtest.annualizedReturn / 100;\r\n    const riskFreeRate = 0.06; // 6% risk-free rate\r\n    const volatility = backtest.maxDrawdown / 100 * 0.5; // Approximate volatility\r\n\r\n    const data = [];\r\n    for (let q = 1; q <= quarters; q++) {\r\n      // Add some variation to make it realistic\r\n      const variance = (Math.random() - 0.5) * 0.3;\r\n      const quarterlyReturn = baseReturn + variance;\r\n      const sharpe = (quarterlyReturn - riskFreeRate) / (volatility + 0.1);\r\n\r\n      data.push({\r\n        quarter: `Q${q}`,\r\n        sharpe: Number(sharpe.toFixed(2)),\r\n        benchmark: 1.0, // Benchmark Sharpe ratio\r\n      });\r\n    }\r\n\r\n    return data;\r\n  }, [backtest.annualizedReturn, backtest.maxDrawdown]);\r\n\r\n  // Generate drawdown progression over time\r\n  const drawdownData = useMemo(() => {\r\n    // Simulating drawdown events over 60 months (5 years)\r\n    const months = 60;\r\n    const maxDD = backtest.maxDrawdown;\r\n    const data = [];\r\n\r\n    let currentDrawdown = 0;\r\n    for (let month = 1; month <= months; month++) {\r\n      // Create realistic drawdown patterns\r\n      const random = Math.random();\r\n\r\n      if (random > 0.8 && currentDrawdown > -maxDD * 0.8) {\r\n        // Drawdown event\r\n        currentDrawdown -= Math.random() * 3;\r\n      } else if (random > 0.3 && currentDrawdown < 0) {\r\n        // Recovery\r\n        currentDrawdown += Math.random() * 2;\r\n      } else if (currentDrawdown < -maxDD) {\r\n        // Don't exceed max drawdown\r\n        currentDrawdown = -maxDD;\r\n      }\r\n\r\n      // Ensure we hit max drawdown at some point\r\n      if (month === Math.floor(months * 0.6)) {\r\n        currentDrawdown = -maxDD;\r\n      }\r\n\r\n      // Cap at 0 (no drawdown)\r\n      currentDrawdown = Math.min(0, Math.max(-maxDD, currentDrawdown));\r\n\r\n      data.push({\r\n        month: month % 12 === 0 ? `Y${month / 12}` : '',\r\n        drawdown: Number(currentDrawdown.toFixed(2)),\r\n        maxDrawdown: -maxDD,\r\n      });\r\n    }\r\n\r\n    return data;\r\n  }, [backtest.maxDrawdown]);\r\n\r\n  // Calculate additional metrics\r\n  const additionalMetrics = useMemo(() => {\r\n    const years = 5;\r\n    const totalReturn = (backtest.finalValue - backtest.initialInvestment) / backtest.initialInvestment;\r\n    const cagr = (Math.pow(1 + totalReturn, 1 / years) - 1) * 100;\r\n\r\n    // Calculate Sharpe ratio\r\n    const riskFreeRate = 6; // 6% risk-free rate\r\n    const excessReturn = backtest.annualizedReturn - riskFreeRate;\r\n    const volatility = backtest.maxDrawdown / 2; // Simplified volatility estimate\r\n    const sharpeRatio = excessReturn / volatility;\r\n\r\n    // Calculate Sortino ratio (similar to Sharpe but using downside deviation)\r\n    const downsideDeviation = volatility * 0.7; // Approximate\r\n    const sortinoRatio = excessReturn / downsideDeviation;\r\n\r\n    return {\r\n      cagr: cagr.toFixed(2),\r\n      sharpeRatio: sharpeRatio.toFixed(2),\r\n      sortinoRatio: sortinoRatio.toFixed(2),\r\n    };\r\n  }, [backtest]);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md border-2 border-gray-100 overflow-hidden\">\r\n      {/* Header */}\r\n      <div className=\"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white\">\r\n        <div className=\"flex items-center space-x-3 mb-2\">\r\n          <Activity className=\"text-white\" size={28} />\r\n          <h3 className=\"text-2xl font-bold\">Backtest Results</h3>\r\n        </div>\r\n        <p className=\"text-purple-100\">{backtest.period}</p>\r\n      </div>\r\n\r\n      <div className=\"p-6 space-y-6\">\r\n        {/* Key Metrics Grid */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-100\">\r\n            <p className=\"text-xs text-gray-600 mb-1 font-medium\">Initial Investment</p>\r\n            <p className=\"text-xl font-bold text-gray-900\">{formatCurrency(backtest.initialInvestment)}</p>\r\n          </div>\r\n          <div className={`bg-gradient-to-br ${isProfitable ? 'from-green-50 to-emerald-50 border-green-100' : 'from-red-50 to-rose-50 border-red-100'} p-4 rounded-lg border`}>\r\n            <p className=\"text-xs text-gray-600 mb-1 font-medium\">Final Value</p>\r\n            <p className=\"text-xl font-bold text-gray-900\">{formatCurrency(backtest.finalValue)}</p>\r\n          </div>\r\n          <div className={`bg-gradient-to-br ${isProfitable ? 'from-green-50 to-emerald-50 border-green-100' : 'from-red-50 to-rose-50 border-red-100'} p-4 rounded-lg border`}>\r\n            <p className=\"text-xs text-gray-600 mb-1 font-medium\">Total Return</p>\r\n            <p className={`text-xl font-bold ${isProfitable ? 'text-green-600' : 'text-red-600'}`}>\r\n              {isProfitable ? '+' : ''}{backtest.totalReturn.toFixed(2)}%\r\n            </p>\r\n            <p className={`text-xs font-semibold ${isProfitable ? 'text-green-600' : 'text-red-600'}`}>\r\n              {isProfitable ? '+' : ''}{formatCurrency(profitLoss)}\r\n            </p>\r\n          </div>\r\n          <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 p-4 rounded-lg border border-purple-100\">\r\n            <p className=\"text-xs text-gray-600 mb-1 font-medium\">Annualized Return</p>\r\n            <p className=\"text-xl font-bold text-purple-600\">{backtest.annualizedReturn.toFixed(2)}%</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Advanced Performance Metrics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"bg-gradient-to-br from-cyan-50 to-blue-50 p-4 rounded-lg border-2 border-cyan-200\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <TrendingUp className=\"text-cyan-600\" size={20} />\r\n              <p className=\"text-xs text-gray-700 font-semibold\">CAGR</p>\r\n            </div>\r\n            <p className=\"text-3xl font-bold text-cyan-600\">{additionalMetrics.cagr}%</p>\r\n            <p className=\"text-xs text-gray-600 mt-1\">Compound Annual Growth Rate</p>\r\n          </div>\r\n\r\n          <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 p-4 rounded-lg border-2 border-indigo-200\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <Shield className=\"text-indigo-600\" size={20} />\r\n              <p className=\"text-xs text-gray-700 font-semibold\">Sharpe Ratio</p>\r\n            </div>\r\n            <p className=\"text-3xl font-bold text-indigo-600\">{additionalMetrics.sharpeRatio}</p>\r\n            <p className=\"text-xs text-gray-600 mt-1\">Risk-adjusted returns (higher is better)</p>\r\n          </div>\r\n\r\n          <div className=\"bg-gradient-to-br from-violet-50 to-purple-50 p-4 rounded-lg border-2 border-violet-200\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <Award className=\"text-violet-600\" size={20} />\r\n              <p className=\"text-xs text-gray-700 font-semibold\">Sortino Ratio</p>\r\n            </div>\r\n            <p className=\"text-3xl font-bold text-violet-600\">{additionalMetrics.sortinoRatio}</p>\r\n            <p className=\"text-xs text-gray-600 mt-1\">Downside risk-adjusted returns</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* CAGR Growth Chart */}\r\n        <div className=\"bg-gradient-to-br from-cyan-50 to-blue-50 p-5 rounded-xl border-2 border-cyan-200\">\r\n          <h4 className=\"text-sm font-bold text-gray-900 mb-4 flex items-center space-x-2\">\r\n            <TrendingUp className=\"text-cyan-600\" size={20} />\r\n            <span>CAGR Growth Projection</span>\r\n          </h4>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <AreaChart data={cagrData}>\r\n              <defs>\r\n                <linearGradient id=\"colorCAGR\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor=\"#06b6d4\" stopOpacity={0.3} />\r\n                  <stop offset=\"95%\" stopColor=\"#06b6d4\" stopOpacity={0.05} />\r\n                </linearGradient>\r\n              </defs>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n              <XAxis\r\n                dataKey=\"year\"\r\n                tick={{ fontSize: 12, fill: '#6b7280' }}\r\n              />\r\n              <YAxis\r\n                tickFormatter={(value) => `â‚¹${(value / 1000).toFixed(0)}K`}\r\n                tick={{ fontSize: 12, fill: '#6b7280' }}\r\n              />\r\n              <Tooltip\r\n                formatter={(value) => [formatCurrency(value), 'Portfolio Value']}\r\n                contentStyle={{\r\n                  backgroundColor: '#fff',\r\n                  border: '2px solid #06b6d4',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n                }}\r\n              />\r\n              <Area\r\n                type=\"monotone\"\r\n                dataKey=\"value\"\r\n                stroke=\"#06b6d4\"\r\n                strokeWidth={3}\r\n                fill=\"url(#colorCAGR)\"\r\n                dot={{ r: 5, fill: '#06b6d4', strokeWidth: 2, stroke: '#fff' }}\r\n                activeDot={{ r: 7 }}\r\n              />\r\n            </AreaChart>\r\n          </ResponsiveContainer>\r\n          <p className=\"text-xs text-gray-600 mt-3 text-center\">\r\n            Compounded growth at {additionalMetrics.cagr}% annually over 5 years\r\n          </p>\r\n        </div>\r\n\r\n        {/* Sharpe Ratio Progression */}\r\n        <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 p-5 rounded-xl border-2 border-indigo-200\">\r\n          <h4 className=\"text-sm font-bold text-gray-900 mb-4 flex items-center space-x-2\">\r\n            <Shield className=\"text-indigo-600\" size={20} />\r\n            <span>Sharpe Ratio Over Time</span>\r\n          </h4>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <LineChart data={sharpeData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n              <XAxis\r\n                dataKey=\"quarter\"\r\n                tick={{ fontSize: 10, fill: '#6b7280' }}\r\n                interval={1}\r\n              />\r\n              <YAxis\r\n                tick={{ fontSize: 12, fill: '#6b7280' }}\r\n                domain={[0, 'auto']}\r\n              />\r\n              <Tooltip\r\n                contentStyle={{\r\n                  backgroundColor: '#fff',\r\n                  border: '2px solid #6366f1',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n                }}\r\n              />\r\n              <ReferenceLine\r\n                y={1}\r\n                stroke=\"#10b981\"\r\n                strokeDasharray=\"5 5\"\r\n                strokeWidth={2}\r\n                label={{ value: 'Good (>1.0)', position: 'right', fill: '#10b981', fontSize: 11 }}\r\n              />\r\n              <ReferenceLine\r\n                y={2}\r\n                stroke=\"#3b82f6\"\r\n                strokeDasharray=\"5 5\"\r\n                strokeWidth={2}\r\n                label={{ value: 'Excellent (>2.0)', position: 'right', fill: '#3b82f6', fontSize: 11 }}\r\n              />\r\n              <Line\r\n                type=\"monotone\"\r\n                dataKey=\"sharpe\"\r\n                stroke=\"#6366f1\"\r\n                strokeWidth={3}\r\n                dot={{ r: 4, fill: '#6366f1', strokeWidth: 2, stroke: '#fff' }}\r\n                activeDot={{ r: 6 }}\r\n              />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n          <div className=\"mt-3 text-xs text-gray-600 space-y-1\">\r\n            <p className=\"font-semibold\">Sharpe Ratio Interpretation:</p>\r\n            <p>â€¢ &lt;1.0: Sub-optimal risk-adjusted returns</p>\r\n            <p>â€¢ 1.0-2.0: Good risk-adjusted returns</p>\r\n            <p>â€¢ &gt;2.0: Excellent risk-adjusted returns</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Max Drawdown Chart */}\r\n        <div className=\"bg-gradient-to-br from-red-50 to-rose-50 p-5 rounded-xl border-2 border-red-200\">\r\n          <h4 className=\"text-sm font-bold text-gray-900 mb-4 flex items-center space-x-2\">\r\n            <AlertTriangle className=\"text-red-600\" size={20} />\r\n            <span>Drawdown Over Time</span>\r\n          </h4>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <AreaChart data={drawdownData}>\r\n              <defs>\r\n                <linearGradient id=\"colorDrawdown\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor=\"#ef4444\" stopOpacity={0.3} />\r\n                  <stop offset=\"95%\" stopColor=\"#ef4444\" stopOpacity={0.05} />\r\n                </linearGradient>\r\n              </defs>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n              <XAxis\r\n                dataKey=\"month\"\r\n                tick={{ fontSize: 12, fill: '#6b7280' }}\r\n              />\r\n              <YAxis\r\n                tickFormatter={(value) => `${value}%`}\r\n                tick={{ fontSize: 12, fill: '#6b7280' }}\r\n                domain={['auto', 0]}\r\n              />\r\n              <Tooltip\r\n                formatter={(value) => [`${value}%`, 'Drawdown']}\r\n                contentStyle={{\r\n                  backgroundColor: '#fff',\r\n                  border: '2px solid #ef4444',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n                }}\r\n              />\r\n              <ReferenceLine\r\n                y={0}\r\n                stroke=\"#10b981\"\r\n                strokeWidth={2}\r\n                label={{ value: 'No Drawdown', position: 'right', fill: '#10b981', fontSize: 11 }}\r\n              />\r\n              <ReferenceLine\r\n                y={-backtest.maxDrawdown}\r\n                stroke=\"#dc2626\"\r\n                strokeDasharray=\"5 5\"\r\n                strokeWidth={2}\r\n                label={{ value: `Max DD: ${backtest.maxDrawdown}%`, position: 'left', fill: '#dc2626', fontSize: 11 }}\r\n              />\r\n              <Area\r\n                type=\"monotone\"\r\n                dataKey=\"drawdown\"\r\n                stroke=\"#ef4444\"\r\n                strokeWidth={2}\r\n                fill=\"url(#colorDrawdown)\"\r\n              />\r\n            </AreaChart>\r\n          </ResponsiveContainer>\r\n          <p className=\"text-xs text-gray-600 mt-3 text-center\">\r\n            Maximum peak-to-trough decline: <span className=\"font-bold text-red-600\">{backtest.maxDrawdown}%</span>\r\n          </p>\r\n        </div>\r\n\r\n        {/* Trading Statistics */}\r\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n          <h4 className=\"text-sm font-bold text-gray-900 mb-4 flex items-center space-x-2\">\r\n            <Target className=\"text-indigo-600\" size={18} />\r\n            <span>Trading Statistics</span>\r\n          </h4>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">Total Trades</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{backtest.totalTransactions}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">Successful</p>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <CheckCircle2 className=\"text-green-600\" size={18} />\r\n                <p className=\"text-2xl font-bold text-green-600\">{backtest.successfulTrades}</p>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">Failed</p>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <AlertTriangle className=\"text-red-600\" size={18} />\r\n                <p className=\"text-2xl font-bold text-red-600\">{backtest.failedTrades}</p>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-600 mb-1\">Win Rate</p>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Award className=\"text-yellow-600\" size={18} />\r\n                <p className=\"text-2xl font-bold text-yellow-600\">{backtest.winRate.toFixed(1)}%</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Risk Metrics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"bg-yellow-50 p-4 rounded-lg border border-yellow-200\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <AlertTriangle className=\"text-yellow-600\" size={18} />\r\n              <p className=\"text-xs text-gray-700 font-semibold\">Max Drawdown</p>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-red-600\">{backtest.maxDrawdown}%</p>\r\n            <p className=\"text-xs text-gray-600 mt-1\">Largest peak-to-trough decline</p>\r\n          </div>\r\n\r\n          <div className=\"bg-green-50 p-4 rounded-lg border border-green-200\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <TrendingUp className=\"text-green-600\" size={18} />\r\n              <p className=\"text-xs text-gray-700 font-semibold\">Best Year</p>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-green-600\">+{backtest.bestYear.return}%</p>\r\n            <p className=\"text-xs text-gray-600 mt-1\">{backtest.bestYear.year}</p>\r\n          </div>\r\n\r\n          <div className=\"bg-red-50 p-4 rounded-lg border border-red-200\">\r\n            <div className=\"flex items-center space-x-2 mb-2\">\r\n              <TrendingDown className=\"text-red-600\" size={18} />\r\n              <p className=\"text-xs text-gray-700 font-semibold\">Worst Year</p>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-red-600\">{backtest.worstYear.return}%</p>\r\n            <p className=\"text-xs text-gray-600 mt-1\">{backtest.worstYear.year}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Monthly Returns Chart */}\r\n        <div>\r\n          <h4 className=\"text-sm font-bold text-gray-900 mb-4 flex items-center space-x-2\">\r\n            <BarChart3 className=\"text-indigo-600\" size={18} />\r\n            <span>Recent Monthly Returns</span>\r\n          </h4>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <BarChart data={backtest.monthlyReturns}>\r\n              <defs>\r\n                <linearGradient id=\"colorPositive\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.8} />\r\n                  <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0.3} />\r\n                </linearGradient>\r\n                <linearGradient id=\"colorNegative\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor=\"#ef4444\" stopOpacity={0.8} />\r\n                  <stop offset=\"95%\" stopColor=\"#ef4444\" stopOpacity={0.3} />\r\n                </linearGradient>\r\n              </defs>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n              <XAxis dataKey=\"month\" tick={{ fontSize: 12, fill: '#6b7280' }} />\r\n              <YAxis\r\n                tickFormatter={(value) => `${value}%`}\r\n                tick={{ fontSize: 12, fill: '#6b7280' }}\r\n              />\r\n              <Tooltip\r\n                formatter={(value) => `${value.toFixed(2)}%`}\r\n                contentStyle={{\r\n                  backgroundColor: '#fff',\r\n                  border: '2px solid #e5e7eb',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\r\n                }}\r\n              />\r\n              <Bar\r\n                dataKey=\"return\"\r\n                radius={[4, 4, 0, 0]}\r\n              >\r\n                {backtest.monthlyReturns.map((entry, index) => (\r\n                  <Cell key={`cell-${index}`} fill={entry.return >= 0 ? '#10b981' : '#ef4444'} />\r\n                ))}\r\n              </Bar>\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Performance Summary */}\r\n        <div className=\"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg border border-indigo-200\">\r\n          <div className=\"flex items-center space-x-2 mb-3\">\r\n            <Activity className=\"text-indigo-600\" size={20} />\r\n            <h4 className=\"text-sm font-bold text-gray-900\">Performance Summary</h4>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm\">\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-700\">Initial Investment:</span>\r\n              <span className=\"font-semibold text-gray-900\">{formatCurrency(backtest.initialInvestment)}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-700\">Final Value:</span>\r\n              <span className=\"font-semibold text-gray-900\">{formatCurrency(backtest.finalValue)}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-700\">Total Gain/Loss:</span>\r\n              <span className={`font-semibold ${isProfitable ? 'text-green-600' : 'text-red-600'}`}>\r\n                {isProfitable ? '+' : ''}{formatCurrency(profitLoss)}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-gray-700\">Annualized Return:</span>\r\n              <span className=\"font-semibold text-purple-600\">{backtest.annualizedReturn.toFixed(2)}% p.a.</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Disclaimer */}\r\n        <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded\">\r\n          <div className=\"flex items-start space-x-2\">\r\n            <AlertTriangle className=\"text-yellow-600 flex-shrink-0 mt-0.5\" size={18} />\r\n            <div>\r\n              <p className=\"text-xs font-semibold text-yellow-800 mb-1\">Important Disclaimer</p>\r\n              <p className=\"text-xs text-yellow-700\">\r\n                Past performance does not guarantee future results. Backtesting uses historical data and may not reflect actual trading conditions, fees, or market impacts. Actual results may vary significantly.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(BacktestResults);\r\n","// src/components/auto-invest/RuleBuilder.jsx\r\n\r\nimport { Settings, Plus, Trash2, Save } from 'lucide-react';\r\n\r\nconst RuleBuilder = ({ selectedPlan }) => {\r\n  if (!selectedPlan) {\r\n    return (\r\n      <div className=\"bg-white rounded-xl shadow-md p-6 border-2 border-gray-100 text-center\">\r\n        <div className=\"text-6xl mb-4\">ï¿½\u000f</div>\r\n        <p className=\"text-lg font-semibold text-gray-700 mb-2\">No plan selected</p>\r\n        <p className=\"text-sm text-gray-500\">Select a plan to customize investment rules</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md p-6 border-2 border-gray-100\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Settings className=\"text-indigo-600\" size={24} />\r\n          <div>\r\n            <h3 className=\"text-xl font-bold text-gray-900\">Investment Rules</h3>\r\n            <p className=\"text-sm text-gray-600\">Customize auto-invest rules for {selectedPlan.name}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"flex items-center space-x-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-semibold transition-all shadow-md hover:shadow-lg\">\r\n          <Plus size={16} />\r\n          <span>Add Rule</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Current Rules */}\r\n      <div className=\"space-y-3 mb-6\">\r\n        {selectedPlan.rules.map((rule, idx) => (\r\n          <div\r\n            key={idx}\r\n            className=\"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200 hover:border-indigo-300 transition-all\"\r\n          >\r\n            <div className=\"flex items-center space-x-3 flex-1\">\r\n              <div className=\"bg-indigo-100 text-indigo-600 font-bold w-8 h-8 rounded-full flex items-center justify-center text-sm\">\r\n                {idx + 1}\r\n              </div>\r\n              <p className=\"text-sm text-gray-800 font-medium\">{rule}</p>\r\n            </div>\r\n            <button className=\"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-all\">\r\n              <Trash2 size={16} />\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Rule Templates */}\r\n      <div className=\"bg-indigo-50 p-4 rounded-lg border border-indigo-200 mb-6\">\r\n        <h4 className=\"text-sm font-bold text-gray-900 mb-3\">Quick Rule Templates</h4>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n          {[\r\n            'Buy on market dip (5% correction)',\r\n            'Sell at 15% profit',\r\n            'Stop loss at 10%',\r\n            'Rebalance quarterly',\r\n            'Dollar-cost averaging',\r\n            'Momentum trading',\r\n          ].map((template, idx) => (\r\n            <button\r\n              key={idx}\r\n              className=\"text-left p-2 bg-white hover:bg-indigo-100 border border-indigo-200 rounded-lg text-xs text-gray-700 hover:text-indigo-700 transition-all\"\r\n            >\r\n              + {template}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Custom Rule Builder Form */}\r\n      <div className=\"bg-purple-50 p-4 rounded-lg border border-purple-200\">\r\n        <h4 className=\"text-sm font-bold text-gray-900 mb-3\">Create Custom Rule</h4>\r\n        <div className=\"space-y-3\">\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            <select className=\"px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none text-sm\">\r\n              <option>When...</option>\r\n              <option>Price drops</option>\r\n              <option>Price rises</option>\r\n              <option>Market opens</option>\r\n              <option>Every month</option>\r\n              <option>Profit reaches</option>\r\n            </select>\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Value (%)\"\r\n              className=\"px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none text-sm\"\r\n            />\r\n          </div>\r\n          <select className=\"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-indigo-500 focus:outline-none text-sm\">\r\n            <option>Then...</option>\r\n            <option>Buy ï¿½X amount</option>\r\n            <option>Sell Y% of holdings</option>\r\n            <option>Rebalance portfolio</option>\r\n            <option>Send notification</option>\r\n          </select>\r\n          <button className=\"w-full flex items-center justify-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-semibold transition-all\">\r\n            <Save size={16} />\r\n            <span>Save Custom Rule</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Save All Button */}\r\n      <div className=\"mt-6 flex items-center space-x-3\">\r\n        <button className=\"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all shadow-md hover:shadow-lg\">\r\n          Apply Changes\r\n        </button>\r\n        <button className=\"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 text-gray-700 rounded-lg font-semibold transition-all\">\r\n          Reset to Default\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RuleBuilder;\r\n","// ===================================\r\n// useAutoInvest Hook\r\n// ===================================\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { autoInvestAPI } from '../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\n// ===================================\r\n// Get All Strategies (AI Investment Plans)\r\n// ===================================\r\nexport const useStrategies = () => {\r\n  return useQuery({\r\n    queryKey: ['autoInvest', 'strategies'],\r\n    queryFn: async () => {\r\n      const response = await autoInvestAPI.getStrategies();\r\n      return response.data;\r\n    },\r\n    staleTime: 600000, // 10 minutes\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Get Backtest Results\r\n// ===================================\r\nexport const useBacktestResults = (strategyId) => {\r\n  return useQuery({\r\n    queryKey: ['autoInvest', 'backtest', strategyId],\r\n    queryFn: async () => {\r\n      const response = await autoInvestAPI.getBacktestResults(strategyId);\r\n      return response.data;\r\n    },\r\n    enabled: !!strategyId, // Only fetch if strategyId is provided\r\n    staleTime: 900000, // 15 minutes (backtest data changes rarely)\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Get SIP Recommendations\r\n// ===================================\r\nexport const useSIPRecommendations = () => {\r\n  return useQuery({\r\n    queryKey: ['autoInvest', 'sip-recommendations'],\r\n    queryFn: async () => {\r\n      const response = await autoInvestAPI.getSIPRecommendations();\r\n      return response.data;\r\n    },\r\n    staleTime: 1800000, // 30 minutes\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Create Strategy\r\n// ===================================\r\nexport const useCreateStrategy = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (strategyData) => {\r\n      const response = await autoInvestAPI.createStrategy(strategyData);\r\n      return response.data;\r\n    },\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: ['autoInvest', 'strategies'] });\r\n      toast.success(`Strategy created successfully! ðŸš€`, {\r\n        duration: 3000,\r\n      });\r\n    },\r\n    onError: (error) => {\r\n      toast.error('Failed to create strategy: ' + error.message);\r\n    },\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Update Strategy (Activate/Pause/Modify)\r\n// ===================================\r\nexport const useUpdateStrategy = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ id, updates }) => {\r\n      const response = await autoInvestAPI.updateStrategy(id, updates);\r\n      return response.data;\r\n    },\r\n    onSuccess: (data, variables) => {\r\n      queryClient.invalidateQueries({ queryKey: ['autoInvest', 'strategies'] });\r\n\r\n      // Custom toast messages based on update type\r\n      if (variables.updates.status === 'Active') {\r\n        toast.success('Strategy activated! ðŸŽ¯', { duration: 3000 });\r\n      } else if (variables.updates.status === 'Paused') {\r\n        toast.success('Strategy paused â¸ï¸', { duration: 3000 });\r\n      } else {\r\n        toast.success('Strategy updated successfully!', { duration: 3000 });\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      toast.error('Failed to update strategy: ' + error.message);\r\n    },\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Delete Strategy\r\n// ===================================\r\nexport const useDeleteStrategy = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (id) => {\r\n      const response = await autoInvestAPI.deleteStrategy(id);\r\n      return response.data;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['autoInvest', 'strategies'] });\r\n      toast.success('Strategy deleted successfully! ðŸ—‘ï¸', {\r\n        duration: 3000,\r\n      });\r\n    },\r\n    onError: (error) => {\r\n      toast.error('Failed to delete strategy: ' + error.message);\r\n    },\r\n  });\r\n};\r\n\r\n// ===================================\r\n// Activate Plan (convenience wrapper for updateStrategy)\r\n// ===================================\r\nexport const useActivatePlan = () => {\r\n  const updateStrategy = useUpdateStrategy();\r\n\r\n  return {\r\n    mutate: (plan) => {\r\n      updateStrategy.mutate({\r\n        id: plan.id,\r\n        updates: {\r\n          status: 'Active',\r\n          activatedAt: new Date().toISOString(),\r\n        },\r\n      });\r\n    },\r\n    ...updateStrategy,\r\n  };\r\n};\r\n\r\n// ===================================\r\n// Toggle Plan Status (Active <-> Paused)\r\n// ===================================\r\nexport const useTogglePlanStatus = () => {\r\n  const updateStrategy = useUpdateStrategy();\r\n\r\n  return {\r\n    mutate: ({ planId, currentStatus }) => {\r\n      const newStatus = currentStatus === 'Active' ? 'Paused' : 'Active';\r\n      updateStrategy.mutate({\r\n        id: planId,\r\n        updates: { status: newStatus },\r\n      });\r\n    },\r\n    ...updateStrategy,\r\n  };\r\n};\r\n","// src/pages/AutoInvest.jsx\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Bot, ArrowLeft, Sparkles, Zap, TrendingUp, Settings } from 'lucide-react';\r\nimport Card from '../components/ui/Card';\r\nimport InvestmentPlanCard from '../components/auto-invest/InvestmentPlanCard';\r\nimport PerformanceTracker from '../components/auto-invest/PerformanceTracker';\r\nimport BacktestResults from '../components/auto-invest/BacktestResults';\r\nimport RuleBuilder from '../components/auto-invest/RuleBuilder';\r\nimport LoadingSpinner from '../components/ui/LoadingSpinner';\r\nimport { ErrorDisplay } from '../components/ui/ErrorBoundary';\r\nimport {\r\n  useStrategies,\r\n  useBacktestResults,\r\n  useActivatePlan,\r\n  useUpdateStrategy,\r\n} from '../hooks/useAutoInvest';\r\nimport {\r\n  autoInvestTransactions,\r\n  performanceMetrics,\r\n} from '../data/autoInvestData';\r\nimport { formatCurrency } from '../utils/calculations';\r\n\r\nconst AutoInvest = () => {\r\n  const navigate = useNavigate();\r\n  const [selectedPlanForBacktest, setSelectedPlanForBacktest] = useState('PLAN002');\r\n  const [selectedPlanForRules, setSelectedPlanForRules] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('plans'); // plans, performance, backtest, rules\r\n\r\n  // Fetch strategies and backtest results from API\r\n  const { data: strategies, isLoading: strategiesLoading, isError: strategiesError } = useStrategies();\r\n  const { data: backtestData, isLoading: backtestLoading } = useBacktestResults(selectedPlanForBacktest);\r\n  const activatePlan = useActivatePlan();\r\n  const updateStrategy = useUpdateStrategy();\r\n\r\n  // Compute aiInvestmentPlans from strategies\r\n  const aiInvestmentPlans = useMemo(() => {\r\n    return strategies || [];\r\n  }, [strategies]);\r\n\r\n  // Compute activePlans (plans with status 'Active' or 'Paused')\r\n  const activePlans = useMemo(() => {\r\n    if (!strategies) return [];\r\n    return strategies.filter(s => s.status === 'Active' || s.status === 'Paused');\r\n  }, [strategies]);\r\n\r\n  // Handle plan activation\r\n  const handleActivatePlan = (plan) => {\r\n    if (confirm(`Activate ${plan.name}?\\n\\nThis will:\\n1. Set up automated investment rules\\n2. Connect to your trading platforms\\n3. Start executing trades based on AI recommendations`)) {\r\n      activatePlan.mutate(plan);\r\n    }\r\n  };\r\n\r\n  // Handle plan toggle (pause/resume)\r\n  const handleTogglePlan = (planId) => {\r\n    const plan = activePlans.find(p => p.id === planId);\r\n    if (plan) {\r\n      updateStrategy.mutate({\r\n        id: planId,\r\n        updates: { status: plan.status === 'Active' ? 'Paused' : 'Active' },\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handle plan selection for backtest\r\n  const handleSelectPlanForBacktest = (planId) => {\r\n    setSelectedPlanForBacktest(planId);\r\n  };\r\n\r\n  // Handle plan selection for rules\r\n  const handleSelectPlanForRules = (plan) => {\r\n    setSelectedPlanForRules(plan);\r\n    setActiveTab('rules');\r\n  };\r\n\r\n  // Show loading state\r\n  if (strategiesLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 py-8\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-center py-20\">\r\n            <LoadingSpinner message=\"Loading AI investment strategies...\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show error state\r\n  if (strategiesError) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 py-8\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <ErrorDisplay\r\n            title=\"Failed to load strategies\"\r\n            message=\"There was an error loading AI investment strategies. Please try again.\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 py-4 sm:py-6 md:py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8 animate-fadeIn\">\r\n          <button\r\n            onClick={() => navigate(-1)}\r\n            className=\"text-indigo-600 hover:text-indigo-700 font-medium mb-4 flex items-center space-x-2 transition-colors\"\r\n          >\r\n            <ArrowLeft size={20} />\r\n            <span>Back</span>\r\n          </button>\r\n\r\n          <div className=\"flex items-center space-x-3 mb-2\">\r\n            <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-3 rounded-2xl shadow-lg\">\r\n              <Bot className=\"text-white\" size={32} />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900\">Auto-Invest AI</h1>\r\n              <p className=\"text-xl text-gray-600\">Automated investing powered by artificial intelligence</p>\r\n            </div>\r\n            <Sparkles className=\"text-purple-600 animate-pulse\" size={32} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-fadeIn\">\r\n          <Card className=\"bg-gradient-to-br from-blue-600 to-indigo-600 text-white hover-lift shadow-xl border-0\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"bg-white bg-opacity-20 p-3 rounded-xl backdrop-blur-sm\">\r\n                <Bot size={28} />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-blue-100 text-sm font-medium\">AI Plans Available</p>\r\n                <h3 className=\"text-xl sm:text-2xl md:text-3xl font-bold\">{aiInvestmentPlans.length}</h3>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <Card className=\"bg-gradient-to-br from-green-600 to-emerald-600 text-white hover-lift shadow-xl border-0\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"bg-white bg-opacity-20 p-3 rounded-xl backdrop-blur-sm\">\r\n                <TrendingUp size={28} />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-green-100 text-sm font-medium\">Total Returns</p>\r\n                <h3 className=\"text-xl sm:text-2xl md:text-3xl font-bold\">+{formatCurrency(performanceMetrics.totalReturns)}</h3>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <Card className=\"bg-gradient-to-br from-purple-600 to-pink-600 text-white hover-lift shadow-xl border-0\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"bg-white bg-opacity-20 p-3 rounded-xl backdrop-blur-sm\">\r\n                <Zap size={28} />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-purple-100 text-sm font-medium\">Active Plans</p>\r\n                <h3 className=\"text-xl sm:text-2xl md:text-3xl font-bold\">{performanceMetrics.totalPlansActive}</h3>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Tab Navigation */}\r\n        <div className=\"bg-white rounded-xl shadow-md p-2 mb-8 animate-fadeIn\">\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\">\r\n            <button\r\n              onClick={() => setActiveTab('plans')}\r\n              className={`py-3 px-3 sm:py-3 sm:px-4 rounded-lg font-semibold transition-all text-xs sm:text-sm min-h-[44px] active:scale-95 ${\r\n                activeTab === 'plans'\r\n                  ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md'\r\n                  : 'text-gray-700 hover:bg-gray-100 active:bg-gray-200'\r\n              }`}\r\n            >\r\n              AI Plans\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('performance')}\r\n              className={`py-3 px-3 sm:py-3 sm:px-4 rounded-lg font-semibold transition-all text-xs sm:text-sm min-h-[44px] active:scale-95 ${\r\n                activeTab === 'performance'\r\n                  ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md'\r\n                  : 'text-gray-700 hover:bg-gray-100 active:bg-gray-200'\r\n              }`}\r\n            >\r\n              Performance\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('backtest')}\r\n              className={`py-3 px-3 sm:py-3 sm:px-4 rounded-lg font-semibold transition-all text-xs sm:text-sm min-h-[44px] active:scale-95 ${\r\n                activeTab === 'backtest'\r\n                  ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md'\r\n                  : 'text-gray-700 hover:bg-gray-100 active:bg-gray-200'\r\n              }`}\r\n            >\r\n              Backtest\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('rules')}\r\n              className={`py-3 px-3 sm:py-3 sm:px-4 rounded-lg font-semibold transition-all text-xs sm:text-sm min-h-[44px] active:scale-95 ${\r\n                activeTab === 'rules'\r\n                  ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md'\r\n                  : 'text-gray-700 hover:bg-gray-100 active:bg-gray-200'\r\n              }`}\r\n            >\r\n              Rules\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div className=\"animate-fadeIn\">\r\n          {/* AI Plans Tab */}\r\n          {activeTab === 'plans' && (\r\n            <div>\r\n              <div className=\"mb-6\">\r\n                <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 flex items-center space-x-2\">\r\n                  <Bot className=\"text-indigo-600\" size={28} />\r\n                  <span>AI-Recommended Investment Plans</span>\r\n                </h2>\r\n                <p className=\"text-gray-600\">\r\n                  Choose from {aiInvestmentPlans.length} AI-curated investment strategies tailored to different risk profiles\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                {aiInvestmentPlans.map((plan) => (\r\n                  <InvestmentPlanCard\r\n                    key={plan.id}\r\n                    plan={plan}\r\n                    onActivate={handleActivatePlan}\r\n                    isActive={activePlans.some((ap) => ap.planId === plan.id)}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Performance Tab */}\r\n          {activeTab === 'performance' && (\r\n            <PerformanceTracker\r\n              activePlans={activePlans}\r\n              performanceMetrics={performanceMetrics}\r\n              onTogglePlan={handleTogglePlan}\r\n            />\r\n          )}\r\n\r\n          {/* Backtest Tab */}\r\n          {activeTab === 'backtest' && (\r\n            <div>\r\n              <div className=\"mb-6\">\r\n                <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-4\">Historical Backtesting</h2>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                  Select a plan to view its historical performance over the past 5 years\r\n                </p>\r\n\r\n                {/* Plan Selector */}\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {aiInvestmentPlans.map((plan) => (\r\n                    <button\r\n                      key={plan.id}\r\n                      onClick={() => handleSelectPlanForBacktest(plan.id)}\r\n                      className={`px-4 py-3 min-h-[44px] rounded-lg font-semibold transition-all flex items-center ${\r\n                        selectedPlanForBacktest === plan.id\r\n                          ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md'\r\n                          : 'bg-white text-gray-700 border-2 border-gray-200 hover:border-purple-300'\r\n                      }`}\r\n                    >\r\n                      {plan.icon} {plan.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {backtestLoading ? (\r\n                <div className=\"flex items-center justify-center py-10\">\r\n                  <LoadingSpinner message=\"Loading backtest results...\" />\r\n                </div>\r\n              ) : (\r\n                <BacktestResults backtest={backtestData?.[selectedPlanForBacktest] || backtestData} />\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Rules Tab */}\r\n          {activeTab === 'rules' && (\r\n            <div>\r\n              <div className=\"mb-6\">\r\n                <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-4 flex items-center space-x-2\">\r\n                  <Settings className=\"text-indigo-600\" size={28} />\r\n                  <span>Investment Rule Builder</span>\r\n                </h2>\r\n                <p className=\"text-gray-600 mb-4\">\r\n                  Customize automated investment rules for your selected plan\r\n                </p>\r\n\r\n                {/* Plan Selector for Rules */}\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {aiInvestmentPlans.map((plan) => (\r\n                    <button\r\n                      key={plan.id}\r\n                      onClick={() => handleSelectPlanForRules(plan)}\r\n                      className={`px-4 py-3 min-h-[44px] rounded-lg font-semibold transition-all flex items-center ${\r\n                        selectedPlanForRules?.id === plan.id\r\n                          ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md'\r\n                          : 'bg-white text-gray-700 border-2 border-gray-200 hover:border-indigo-300'\r\n                      }`}\r\n                    >\r\n                      {plan.icon} {plan.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <RuleBuilder selectedPlan={selectedPlanForRules} />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Transaction Log Section */}\r\n        {activeTab === 'performance' && autoInvestTransactions.length > 0 && (\r\n          <div className=\"mt-8 bg-white rounded-xl shadow-md p-6 border-2 border-gray-100 animate-fadeIn\">\r\n            <h3 className=\"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 mb-4\">Recent Auto-Invest Transactions</h3>\r\n            <div className=\"space-y-2\">\r\n              {autoInvestTransactions.slice(0, 5).map((transaction) => (\r\n                <div\r\n                  key={transaction.id}\r\n                  className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all\"\r\n                >\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div\r\n                      className={`px-2 py-1 rounded text-xs font-semibold ${\r\n                        transaction.type === 'Buy'\r\n                          ? 'bg-green-100 text-green-700'\r\n                          : 'bg-red-100 text-red-700'\r\n                      }`}\r\n                    >\r\n                      {transaction.type}\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-semibold text-gray-900\">{transaction.asset}</p>\r\n                      <p className=\"text-xs text-gray-600\">{transaction.trigger}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-sm font-semibold text-gray-900\">\r\n                      {formatCurrency(transaction.amount)}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-600\">\r\n                      {new Date(transaction.date).toLocaleDateString('en-IN', {\r\n                        day: '2-digit',\r\n                        month: 'short',\r\n                      })}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoInvest;\r\n"],"names":["InvestmentPlanCard","React","plan","onActivate","isActive","expanded","setExpanded","useState","getStatusBadge","status","allocationData","key","value","COLORS","jsxs","jsx","Star","DollarSign","formatCurrency","TrendingUp","PieChart","ResponsiveContainer","RechartsPie","Pie","entry","index","Cell","Tooltip","item","idx","ChevronUp","ChevronDown","CheckCircle","rule","Shield","asset","PerformanceTracker","activePlans","performanceMetrics","onTogglePlan","performanceChartData","BarChart3","Activity","Calendar","LineChart","CartesianGrid","XAxis","YAxis","Line","Fragment","Pause","Play","BacktestResults","backtest","profitLoss","isProfitable","cagrData","useMemo","cagr","data","year","sharpeData","baseReturn","riskFreeRate","volatility","q","variance","sharpe","drawdownData","maxDD","currentDrawdown","month","random","additionalMetrics","totalReturn","excessReturn","sharpeRatio","downsideDeviation","sortinoRatio","Award","AreaChart","Area","ReferenceLine","AlertTriangle","Target","CheckCircle2","TrendingDown","BarChart","Bar","BacktestResults$1","RuleBuilder","selectedPlan","Settings","Plus","Trash2","template","Save","useStrategies","useQuery","autoInvestAPI","useBacktestResults","strategyId","useUpdateStrategy","queryClient","useQueryClient","useMutation","id","updates","variables","toast","error","useActivatePlan","updateStrategy","AutoInvest","navigate","useNavigate","selectedPlanForBacktest","setSelectedPlanForBacktest","selectedPlanForRules","setSelectedPlanForRules","activeTab","setActiveTab","strategies","strategiesLoading","strategiesError","backtestData","backtestLoading","activatePlan","aiInvestmentPlans","s","handleActivatePlan","handleTogglePlan","planId","p","handleSelectPlanForBacktest","handleSelectPlanForRules","LoadingSpinner","ErrorDisplay","ArrowLeft","Bot","Sparkles","Card","Zap","ap","autoInvestTransactions","transaction"],"mappings":"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"}