{"version":3,"file":"Investments-DBkIRGiF.js","sources":["../../src/components/investments/InvestmentFilters.jsx","../../src/components/investments/InvestmentCard.jsx","../../src/components/investments/InvestmentTimeline.jsx","../../src/components/investments/InvestmentDetailModal.jsx","../../src/pages/Investments.jsx"],"sourcesContent":["// src/components/investments/InvestmentFilters.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport { Search, Filter, SlidersHorizontal, X, ChevronDown } from 'lucide-react';\r\nimport { investmentFilters } from '../../data/investmentData';\r\n\r\nconst InvestmentFilters = ({ filters, onFilterChange, onSearchChange, totalResults }) => {\r\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  // Handle search input\r\n  const handleSearch = (e) => {\r\n    const value = e.target.value;\r\n    setSearchQuery(value);\r\n    onSearchChange(value);\r\n  };\r\n\r\n  // Clear search\r\n  const clearSearch = () => {\r\n    setSearchQuery('');\r\n    onSearchChange('');\r\n  };\r\n\r\n  // Handle filter change\r\n  const handleFilterChange = (filterType, value) => {\r\n    onFilterChange(filterType, value);\r\n  };\r\n\r\n  // Reset all filters\r\n  const resetFilters = () => {\r\n    onFilterChange('platform', 'All');\r\n    onFilterChange('type', 'All');\r\n    onFilterChange('status', 'All');\r\n    onFilterChange('sector', 'All');\r\n    onFilterChange('timeRange', 'all');\r\n    onFilterChange('sortBy', 'date-desc');\r\n    setSearchQuery('');\r\n    onSearchChange('');\r\n  };\r\n\r\n  // Check if any filter is active\r\n  const hasActiveFilters =\r\n    filters.platform !== 'All' ||\r\n    filters.type !== 'All' ||\r\n    filters.status !== 'All' ||\r\n    filters.sector !== 'All' ||\r\n    filters.timeRange !== 'all' ||\r\n    searchQuery !== '';\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md p-6 mb-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Filter className=\"text-indigo-600\" size={24} />\r\n          <h2 className=\"text-xl font-bold text-gray-800\">Filters</h2>\r\n          {totalResults !== undefined && (\r\n            <span className=\"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-semibold\">\r\n              {totalResults} {totalResults === 1 ? 'Result' : 'Results'}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Advanced Filters Toggle */}\r\n        <button\r\n          onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\r\n          className=\"flex items-center space-x-2 text-indigo-600 hover:text-indigo-700 font-medium transition-colors\"\r\n        >\r\n          <SlidersHorizontal size={18} />\r\n          <span className=\"text-sm\">{showAdvancedFilters ? 'Hide' : 'Show'} Advanced</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search Bar */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by name, symbol, or sector...\"\r\n            value={searchQuery}\r\n            onChange={handleSearch}\r\n            className=\"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors\"\r\n          />\r\n          {searchQuery && (\r\n            <button\r\n              onClick={clearSearch}\r\n              className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Basic Filters Row */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\r\n        {/* Platform Filter */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Platform</label>\r\n          <select\r\n            value={filters.platform}\r\n            onChange={(e) => handleFilterChange('platform', e.target.value)}\r\n            className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer\"\r\n          >\r\n            {investmentFilters.platforms.map((platform) => (\r\n              <option key={platform} value={platform}>\r\n                {platform}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Type Filter */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Type</label>\r\n          <select\r\n            value={filters.type}\r\n            onChange={(e) => handleFilterChange('type', e.target.value)}\r\n            className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer\"\r\n          >\r\n            {investmentFilters.types.map((type) => (\r\n              <option key={type} value={type}>\r\n                {type}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Status Filter */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\r\n          <select\r\n            value={filters.status}\r\n            onChange={(e) => handleFilterChange('status', e.target.value)}\r\n            className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer\"\r\n          >\r\n            {investmentFilters.status.map((status) => (\r\n              <option key={status} value={status}>\r\n                {status}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Sort By */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Sort By</label>\r\n          <select\r\n            value={filters.sortBy}\r\n            onChange={(e) => handleFilterChange('sortBy', e.target.value)}\r\n            className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer\"\r\n          >\r\n            {investmentFilters.sortBy.map((sort) => (\r\n              <option key={sort.value} value={sort.value}>\r\n                {sort.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Advanced Filters (Collapsible) */}\r\n      {showAdvancedFilters && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t-2 border-gray-100 animate-fadeIn\">\r\n          {/* Sector Filter */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Sector</label>\r\n            <select\r\n              value={filters.sector}\r\n              onChange={(e) => handleFilterChange('sector', e.target.value)}\r\n              className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer\"\r\n            >\r\n              {investmentFilters.sectors.map((sector) => (\r\n                <option key={sector} value={sector}>\r\n                  {sector}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Time Range Filter */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Time Range</label>\r\n            <select\r\n              value={filters.timeRange}\r\n              onChange={(e) => handleFilterChange('timeRange', e.target.value)}\r\n              className=\"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer\"\r\n            >\r\n              {investmentFilters.timeRange.map((range) => (\r\n                <option key={range.value} value={range.value}>\r\n                  {range.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Active Filters Display & Reset */}\r\n      {hasActiveFilters && (\r\n        <div className=\"flex items-center justify-between mt-6 pt-4 border-t-2 border-gray-100\">\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {filters.platform !== 'All' && (\r\n              <span className=\"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1\">\r\n                <span>Platform: {filters.platform}</span>\r\n                <button\r\n                  onClick={() => handleFilterChange('platform', 'All')}\r\n                  className=\"hover:text-blue-900 transition-colors\"\r\n                >\r\n                  <X size={14} />\r\n                </button>\r\n              </span>\r\n            )}\r\n            {filters.type !== 'All' && (\r\n              <span className=\"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1\">\r\n                <span>Type: {filters.type}</span>\r\n                <button\r\n                  onClick={() => handleFilterChange('type', 'All')}\r\n                  className=\"hover:text-purple-900 transition-colors\"\r\n                >\r\n                  <X size={14} />\r\n                </button>\r\n              </span>\r\n            )}\r\n            {filters.status !== 'All' && (\r\n              <span className=\"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1\">\r\n                <span>Status: {filters.status}</span>\r\n                <button\r\n                  onClick={() => handleFilterChange('status', 'All')}\r\n                  className=\"hover:text-green-900 transition-colors\"\r\n                >\r\n                  <X size={14} />\r\n                </button>\r\n              </span>\r\n            )}\r\n            {searchQuery && (\r\n              <span className=\"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1\">\r\n                <span>Search: \"{searchQuery}\"</span>\r\n                <button onClick={clearSearch} className=\"hover:text-gray-900 transition-colors\">\r\n                  <X size={14} />\r\n                </button>\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          {/* Reset All Button */}\r\n          <button\r\n            onClick={resetFilters}\r\n            className=\"bg-red-100 text-red-700 hover:bg-red-200 px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2\"\r\n          >\r\n            <X size={16} />\r\n            <span>Reset All</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvestmentFilters;","// src/components/investments/InvestmentCard.jsx\r\n\r\nimport React from 'react';\r\nimport { TrendingUp, TrendingDown, Calendar, Package, DollarSign } from 'lucide-react';\r\n\r\nconst InvestmentCard = React.memo(({ investment, onClick }) => {\r\n  const isProfit = investment.status === 'profit';\r\n  const statusColor = isProfit ? 'text-green-600' : 'text-red-600';\r\n  const statusBgColor = isProfit ? 'bg-green-50' : 'bg-red-50';\r\n  const statusBorderColor = isProfit ? 'border-green-200' : 'border-red-200';\r\n\r\n  // Format currency in Indian format\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      maximumFractionDigits: 0,\r\n    }).format(amount);\r\n  };\r\n\r\n  // Format date\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-IN', {\r\n      day: '2-digit',\r\n      month: 'short',\r\n      year: 'numeric',\r\n    });\r\n  };\r\n\r\n  // Get platform color\r\n  const getPlatformColor = (platform) => {\r\n    const colors = {\r\n      Zerodha: 'bg-blue-100 text-blue-700',\r\n      Groww: 'bg-green-100 text-green-700',\r\n      Upstox: 'bg-purple-100 text-purple-700',\r\n      Binance: 'bg-yellow-100 text-yellow-700',\r\n    };\r\n    return colors[platform] || 'bg-gray-100 text-gray-700';\r\n  };\r\n\r\n  // Get type badge color\r\n  const getTypeColor = (type) => {\r\n    const colors = {\r\n      Stock: 'bg-indigo-100 text-indigo-700',\r\n      'Mutual Fund': 'bg-pink-100 text-pink-700',\r\n      ETF: 'bg-orange-100 text-orange-700',\r\n      Crypto: 'bg-amber-100 text-amber-700',\r\n    };\r\n    return colors[type] || 'bg-gray-100 text-gray-700';\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={() => onClick && onClick(investment)}\r\n      className={`bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer border-2 ${statusBorderColor} overflow-hidden group`}\r\n    >\r\n      {/* Top Color Strip */}\r\n      <div className={`h-1.5 ${isProfit ? 'bg-green-500' : 'bg-red-500'}`}></div>\r\n\r\n      <div className=\"p-6\">\r\n        {/* Header Section */}\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div className=\"flex items-start space-x-3\">\r\n            {/* Logo/Icon */}\r\n            <div className=\"text-4xl\">{investment.logo}</div>\r\n\r\n            {/* Name & Symbol */}\r\n            <div>\r\n              <h3 className=\"text-lg font-bold text-gray-800 group-hover:text-indigo-600 transition-colors\">\r\n                {investment.name}\r\n              </h3>\r\n              <p className=\"text-sm text-gray-500 font-mono\">{investment.symbol}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Returns Badge */}\r\n          <div className={`${statusBgColor} ${statusColor} px-3 py-1 rounded-full flex items-center space-x-1`}>\r\n            {isProfit ? <TrendingUp size={16} /> : <TrendingDown size={16} />}\r\n            <span className=\"font-bold text-sm\">{investment.returnsPercentage}%</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Badges Section */}\r\n        <div className=\"flex flex-wrap gap-2 mb-4\">\r\n          <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getPlatformColor(investment.platform)}`}>\r\n            {investment.platform}\r\n          </span>\r\n          <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getTypeColor(investment.type)}`}>\r\n            {investment.type}\r\n          </span>\r\n          <span className=\"px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700\">\r\n            {investment.sector}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Investment Details Grid */}\r\n        <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n          {/* Invested Amount */}\r\n          <div className=\"space-y-1\">\r\n            <p className=\"text-xs text-gray-500 font-medium\">Invested</p>\r\n            <p className=\"text-sm font-bold text-gray-800\">{formatCurrency(investment.investedAmount)}</p>\r\n          </div>\r\n\r\n          {/* Current Value */}\r\n          <div className=\"space-y-1\">\r\n            <p className=\"text-xs text-gray-500 font-medium\">Current Value</p>\r\n            <p className=\"text-sm font-bold text-gray-800\">{formatCurrency(investment.currentValue)}</p>\r\n          </div>\r\n\r\n          {/* Returns */}\r\n          <div className=\"space-y-1\">\r\n            <p className=\"text-xs text-gray-500 font-medium\">Returns</p>\r\n            <p className={`text-sm font-bold ${statusColor}`}>\r\n              {isProfit ? '+' : ''}\r\n              {formatCurrency(investment.returns)}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Quantity */}\r\n          <div className=\"space-y-1\">\r\n            <p className=\"text-xs text-gray-500 font-medium\">Quantity</p>\r\n            <p className=\"text-sm font-bold text-gray-800\">{investment.quantity}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Price Information */}\r\n        <div className=\"bg-gray-50 rounded-lg p-3 mb-4\">\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            <div>\r\n              <p className=\"text-xs text-gray-500 mb-1\">Avg. Price</p>\r\n              <p className=\"text-sm font-semibold text-gray-700\">{formatCurrency(investment.avgPrice)}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xs text-gray-500 mb-1\">Current Price</p>\r\n              <p className=\"text-sm font-semibold text-gray-700\">{formatCurrency(investment.currentPrice)}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer - Purchase Date */}\r\n        <div className=\"flex items-center justify-between pt-3 border-t border-gray-200\">\r\n          <div className=\"flex items-center space-x-2 text-gray-500\">\r\n            <Calendar size={14} />\r\n            <span className=\"text-xs\">Purchased: {formatDate(investment.purchaseDate)}</span>\r\n          </div>\r\n\r\n          {/* View Details Arrow */}\r\n          <div className=\"text-indigo-600 group-hover:translate-x-1 transition-transform\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-5 w-5\"\r\n              viewBox=\"0 0 20 20\"\r\n              fill=\"currentColor\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nInvestmentCard.displayName = 'InvestmentCard';\r\n\r\nexport default InvestmentCard;","// src/components/investments/InvestmentTimeline.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport { Calendar, ChevronDown, ChevronUp, TrendingUp, TrendingDown, Package } from 'lucide-react';\r\nimport InvestmentCard from './InvestmentCard';\r\n\r\nconst InvestmentTimeline = ({ investments, onInvestmentClick }) => {\r\n  const [expandedPeriods, setExpandedPeriods] = useState({});\r\n\r\n  // Group investments by time period\r\n  const groupInvestmentsByPeriod = (investments) => {\r\n    const now = new Date();\r\n    const groups = {\r\n      'This Week': [],\r\n      'This Month': [],\r\n      'Last 3 Months': [],\r\n      'Last 6 Months': [],\r\n      'This Year': [],\r\n      'Last Year': [],\r\n      'Older': [],\r\n    };\r\n\r\n    investments.forEach((investment) => {\r\n      const investmentDate = new Date(investment.purchaseDate);\r\n      const daysDiff = Math.floor((now - investmentDate) / (1000 * 60 * 60 * 24));\r\n      const monthsDiff = Math.floor(daysDiff / 30);\r\n      const yearsDiff = Math.floor(daysDiff / 365);\r\n\r\n      if (daysDiff <= 7) {\r\n        groups['This Week'].push(investment);\r\n      } else if (daysDiff <= 30) {\r\n        groups['This Month'].push(investment);\r\n      } else if (monthsDiff <= 3) {\r\n        groups['Last 3 Months'].push(investment);\r\n      } else if (monthsDiff <= 6) {\r\n        groups['Last 6 Months'].push(investment);\r\n      } else if (yearsDiff === 0) {\r\n        groups['This Year'].push(investment);\r\n      } else if (yearsDiff === 1) {\r\n        groups['Last Year'].push(investment);\r\n      } else {\r\n        groups['Older'].push(investment);\r\n      }\r\n    });\r\n\r\n    // Remove empty groups and return\r\n    return Object.entries(groups).filter(([, invs]) => invs.length > 0);\r\n  };\r\n\r\n  const groupedInvestments = groupInvestmentsByPeriod(investments);\r\n\r\n  // Toggle period expansion\r\n  const togglePeriod = (period) => {\r\n    setExpandedPeriods((prev) => ({\r\n      ...prev,\r\n      [period]: !prev[period],\r\n    }));\r\n  };\r\n\r\n  // Calculate period statistics\r\n  const getPeriodStats = (periodInvestments) => {\r\n    const totalInvested = periodInvestments.reduce((sum, inv) => sum + inv.investedAmount, 0);\r\n    const totalCurrent = periodInvestments.reduce((sum, inv) => sum + inv.currentValue, 0);\r\n    const totalReturns = totalCurrent - totalInvested;\r\n    const profitCount = periodInvestments.filter((inv) => inv.status === 'profit').length;\r\n    const lossCount = periodInvestments.filter((inv) => inv.status === 'loss').length;\r\n\r\n    return {\r\n      count: periodInvestments.length,\r\n      totalInvested,\r\n      totalCurrent,\r\n      totalReturns,\r\n      returnsPercentage: totalInvested > 0 ? ((totalReturns / totalInvested) * 100).toFixed(2) : 0,\r\n      profitCount,\r\n      lossCount,\r\n    };\r\n  };\r\n\r\n  // Format currency\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      maximumFractionDigits: 0,\r\n    }).format(amount);\r\n  };\r\n\r\n  // Get period icon\r\n  const getPeriodIcon = (period) => {\r\n    if (period.includes('Week') || period.includes('Month')) return 'üî•';\r\n    if (period.includes('3 Months') || period.includes('6 Months')) return 'üìÖ';\r\n    if (period.includes('Year')) return 'üìä';\r\n    return 'üèõÔ∏è';\r\n  };\r\n\r\n  // Empty state\r\n  if (groupedInvestments.length === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-xl shadow-md p-12 text-center\">\r\n        <div className=\"text-6xl mb-4\">üì≠</div>\r\n        <h3 className=\"text-xl font-bold text-gray-800 mb-2\">No Investments Found</h3>\r\n        <p className=\"text-gray-600\">Try adjusting your filters or search query</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {groupedInvestments.map(([period, periodInvestments], index) => {\r\n        const stats = getPeriodStats(periodInvestments);\r\n        const isExpanded = expandedPeriods[period] !== false; // Default to expanded\r\n        const isProfitable = stats.totalReturns >= 0;\r\n\r\n        return (\r\n          <div key={period} className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n            {/* Period Header */}\r\n            <div\r\n              onClick={() => togglePeriod(period)}\r\n              className=\"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 cursor-pointer hover:from-indigo-100 hover:to-purple-100 transition-all duration-300\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                {/* Left Side - Period Info */}\r\n                <div className=\"flex items-center space-x-4\">\r\n                  {/* Timeline Connector */}\r\n                  <div className=\"relative\">\r\n                    <div className=\"w-12 h-12 bg-white rounded-full flex items-center justify-center text-2xl shadow-md\">\r\n                      {getPeriodIcon(period)}\r\n                    </div>\r\n                    {index < groupedInvestments.length - 1 && (\r\n                      <div className=\"absolute top-12 left-1/2 transform -translate-x-1/2 w-0.5 h-6 bg-indigo-200\"></div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Period Name & Stats */}\r\n                  <div>\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <h3 className=\"text-xl font-bold text-gray-800\">{period}</h3>\r\n                      <span className=\"bg-indigo-600 text-white px-3 py-1 rounded-full text-sm font-semibold\">\r\n                        {stats.count} {stats.count === 1 ? 'Investment' : 'Investments'}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-4 mt-2 text-sm text-gray-600\">\r\n                      <span className=\"flex items-center space-x-1\">\r\n                        <TrendingUp size={16} className=\"text-green-600\" />\r\n                        <span>{stats.profitCount} Profitable</span>\r\n                      </span>\r\n                      <span className=\"text-gray-300\">|</span>\r\n                      <span className=\"flex items-center space-x-1\">\r\n                        <TrendingDown size={16} className=\"text-red-600\" />\r\n                        <span>{stats.lossCount} Loss</span>\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Right Side - Financial Stats */}\r\n                <div className=\"flex items-center space-x-6\">\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-xs text-gray-500 mb-1\">Total Invested</p>\r\n                    <p className=\"text-sm font-bold text-gray-800\">{formatCurrency(stats.totalInvested)}</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-xs text-gray-500 mb-1\">Current Value</p>\r\n                    <p className=\"text-sm font-bold text-gray-800\">{formatCurrency(stats.totalCurrent)}</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-xs text-gray-500 mb-1\">Returns</p>\r\n                    <p\r\n                      className={`text-sm font-bold ${\r\n                        isProfitable ? 'text-green-600' : 'text-red-600'\r\n                      }`}\r\n                    >\r\n                      {isProfitable ? '+' : ''}\r\n                      {formatCurrency(stats.totalReturns)}\r\n                    </p>\r\n                    <p\r\n                      className={`text-xs font-semibold ${\r\n                        isProfitable ? 'text-green-600' : 'text-red-600'\r\n                      }`}\r\n                    >\r\n                      ({isProfitable ? '+' : ''}\r\n                      {stats.returnsPercentage}%)\r\n                    </p>\r\n                  </div>\r\n\r\n                  {/* Expand/Collapse Button */}\r\n                  <button className=\"ml-4 p-2 hover:bg-white rounded-full transition-colors\">\r\n                    {isExpanded ? (\r\n                      <ChevronUp className=\"text-indigo-600\" size={24} />\r\n                    ) : (\r\n                      <ChevronDown className=\"text-indigo-600\" size={24} />\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Investments Grid (Collapsible) */}\r\n            {isExpanded && (\r\n              <div className=\"p-6 bg-gray-50\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                  {periodInvestments.map((investment) => (\r\n                    <InvestmentCard\r\n                      key={investment.id}\r\n                      investment={investment}\r\n                      onClick={onInvestmentClick}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n\r\n      {/* Timeline End Marker */}\r\n      <div className=\"flex justify-center py-8\">\r\n        <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg flex items-center space-x-2\">\r\n          <Calendar size={20} />\r\n          <span>Timeline: {investments.length} Total Investments</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvestmentTimeline;","// src/components/investments/InvestmentDetailModal.jsx\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport {\r\n  X,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  Calendar,\r\n  Package,\r\n  DollarSign,\r\n  Activity,\r\n  ShoppingCart,\r\n  Wallet,\r\n  ArrowUpRight,\r\n  ArrowDownRight,\r\n  Info,\r\n} from 'lucide-react';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Area, AreaChart } from 'recharts';\r\n\r\nconst InvestmentDetailModal = ({ investment, onClose }) => {\r\n  const [activeTab, setActiveTab] = useState('overview'); // overview, transactions, analysis\r\n\r\n  if (!investment) return null;\r\n\r\n  const isProfit = investment.status === 'profit';\r\n  const statusColor = isProfit ? 'text-green-600' : 'text-red-600';\r\n  const statusBgColor = isProfit ? 'bg-green-50' : 'bg-red-50';\r\n\r\n  // Format currency\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      maximumFractionDigits: 0,\r\n    }).format(amount);\r\n  };\r\n\r\n  // Format date\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-IN', {\r\n      day: '2-digit',\r\n      month: 'short',\r\n      year: 'numeric',\r\n    });\r\n  };\r\n\r\n  // Generate dummy performance data (last 6 months) - Memoized\r\n  const performanceData = useMemo(() => {\r\n    const data = [];\r\n    const months = ['6mo ago', '5mo ago', '4mo ago', '3mo ago', '2mo ago', '1mo ago', 'Now'];\r\n    const startValue = investment.investedAmount;\r\n    const endValue = investment.currentValue;\r\n    const diff = endValue - startValue;\r\n    const step = diff / 6;\r\n\r\n    for (let i = 0; i < 7; i++) {\r\n      data.push({\r\n        month: months[i],\r\n        value: Math.round(startValue + step * i + (Math.random() - 0.5) * (step * 0.3)),\r\n      });\r\n    }\r\n    return data;\r\n  }, [investment.investedAmount, investment.currentValue]);\r\n\r\n  // Generate dummy transaction history - Memoized\r\n  const transactions = useMemo(() => {\r\n    const txns = [\r\n      {\r\n        id: 'TXN001',\r\n        type: 'Buy',\r\n        date: investment.purchaseDate,\r\n        quantity: investment.quantity,\r\n        price: investment.avgPrice,\r\n        amount: investment.investedAmount,\r\n        status: 'Completed',\r\n      },\r\n    ];\r\n\r\n    // Add some random transactions\r\n    if (investment.quantity > 10) {\r\n      txns.push({\r\n        id: 'TXN002',\r\n        type: 'Buy',\r\n        date: new Date(new Date(investment.purchaseDate).getTime() + 30 * 24 * 60 * 60 * 1000)\r\n          .toISOString()\r\n          .split('T')[0],\r\n        quantity: Math.floor(investment.quantity * 0.3),\r\n        price: investment.avgPrice * 1.05,\r\n        amount: Math.floor(investment.quantity * 0.3 * investment.avgPrice * 1.05),\r\n        status: 'Completed',\r\n      });\r\n    }\r\n\r\n    return txns;\r\n  }, [investment.purchaseDate, investment.quantity, investment.avgPrice, investment.investedAmount]);\r\n\r\n  // Get platform color\r\n  const getPlatformColor = (platform) => {\r\n    const colors = {\r\n      Zerodha: 'bg-blue-100 text-blue-700',\r\n      Groww: 'bg-green-100 text-green-700',\r\n      Upstox: 'bg-purple-100 text-purple-700',\r\n      Binance: 'bg-yellow-100 text-yellow-700',\r\n    };\r\n    return colors[platform] || 'bg-gray-100 text-gray-700';\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto\">\r\n        {/* Drag Handle - Mobile Swipe Indicator */}\r\n        <div className=\"sticky top-0 bg-white pt-3 pb-0 rounded-t-2xl z-20 flex justify-center\">\r\n          <div\r\n            className=\"w-12 h-1 bg-gray-300 rounded-full\"\r\n            role=\"separator\"\r\n            aria-label=\"Swipe down to close\"\r\n          ></div>\r\n        </div>\r\n\r\n        {/* Modal Header */}\r\n        <div className=\"sticky top-0 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-2xl z-10\">\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"flex items-start space-x-4\">\r\n              {/* Logo */}\r\n              <div className=\"text-5xl bg-white rounded-xl p-3\">{investment.logo}</div>\r\n                <p className={`p-4 rounded-xl ${statusBgColor}`}></p>\r\n              {/* Title & Info */}\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold mb-1\">{investment.name}</h2>\r\n                <p className=\"text-indigo-100 font-mono text-sm mb-3\">{investment.symbol}</p>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getPlatformColor(investment.platform)} bg-opacity-90`}>\r\n                    {investment.platform}\r\n                  </span>\r\n                  <span className=\"px-3 py-1 rounded-full text-xs font-semibold bg-white bg-opacity-20\">\r\n                    {investment.type}\r\n                  </span>\r\n                  <span className=\"px-3 py-1 rounded-full text-xs font-semibold bg-white bg-opacity-20\">\r\n                    {investment.sector}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors\"\r\n            >\r\n              <X size={24} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Key Metrics Cards */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 p-6 bg-gray-50\">\r\n          {/* Invested Amount */}\r\n          <div className=\"bg-white rounded-xl p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-xs text-gray-500 font-medium\">Invested</p>\r\n              <DollarSign size={16} className=\"text-blue-600\" />\r\n            </div>\r\n            <p className=\"text-lg font-bold text-gray-800\">{formatCurrency(investment.investedAmount)}</p>\r\n          </div>\r\n\r\n          {/* Current Value */}\r\n          <div className=\"bg-white rounded-xl p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-xs text-gray-500 font-medium\">Current Value</p>\r\n              <Wallet size={16} className=\"text-purple-600\" />\r\n            </div>\r\n            <p className=\"text-lg font-bold text-gray-800\">{formatCurrency(investment.currentValue)}</p>\r\n          </div>\r\n\r\n          {/* Returns */}\r\n          <div className=\"bg-white rounded-xl p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-xs text-gray-500 font-medium\">Returns</p>\r\n              {isProfit ? (\r\n                <TrendingUp size={16} className=\"text-green-600\" />\r\n              ) : (\r\n                <TrendingDown size={16} className=\"text-red-600\" />\r\n              )}\r\n            </div>\r\n            <p className={`text-lg font-bold ${statusColor}`}>\r\n              {isProfit ? '+' : ''}\r\n              {formatCurrency(investment.returns)}\r\n            </p>\r\n            <p className={`text-xs font-semibold ${statusColor}`}>\r\n              ({isProfit ? '+' : ''}\r\n              {investment.returnsPercentage}%)\r\n            </p>\r\n          </div>\r\n\r\n          {/* Quantity */}\r\n          <div className=\"bg-white rounded-xl p-4 shadow-sm\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"text-xs text-gray-500 font-medium\">Quantity</p>\r\n              <Package size={16} className=\"text-orange-600\" />\r\n            </div>\r\n            <p className=\"text-lg font-bold text-gray-800\">{investment.quantity}</p>\r\n            <p className=\"text-xs text-gray-500\">units</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"border-b border-gray-200 px-6\">\r\n          <div className=\"flex space-x-4 sm:space-x-8\">\r\n            <button\r\n              onClick={() => setActiveTab('overview')}\r\n              className={`py-3 px-3 sm:px-4 font-medium transition-all relative min-h-[44px] active:scale-95 ${\r\n                activeTab === 'overview' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700 active:text-gray-900'\r\n              }`}\r\n            >\r\n              Overview\r\n              {activeTab === 'overview' && (\r\n                <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t\"></div>\r\n              )}\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('transactions')}\r\n              className={`py-3 px-3 sm:px-4 font-medium transition-all relative min-h-[44px] active:scale-95 ${\r\n                activeTab === 'transactions' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700 active:text-gray-900'\r\n              }`}\r\n            >\r\n              Transactions\r\n              {activeTab === 'transactions' && (\r\n                <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t\"></div>\r\n              )}\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('analysis')}\r\n              className={`py-3 px-3 sm:px-4 font-medium transition-all relative min-h-[44px] active:scale-95 ${\r\n                activeTab === 'analysis' ? 'text-indigo-600' : 'text-gray-500 hover:text-gray-700 active:text-gray-900'\r\n              }`}\r\n            >\r\n              Analysis\r\n              {activeTab === 'analysis' && (\r\n                <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t\"></div>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div className=\"p-6\">\r\n          {/* OVERVIEW TAB */}\r\n          {activeTab === 'overview' && (\r\n            <div className=\"space-y-6\">\r\n              {/* Performance Chart */}\r\n              <div className=\"bg-white rounded-xl border-2 border-gray-200 p-6\">\r\n                <h3 className=\"text-lg font-bold text-gray-800 mb-4 flex items-center\">\r\n                  <Activity className=\"mr-2 text-indigo-600\" size={20} />\r\n                  Performance (Last 6 Months)\r\n                </h3>\r\n                <ResponsiveContainer width=\"100%\" height={250}>\r\n                  <AreaChart data={performanceData}>\r\n                    <defs>\r\n                      <linearGradient id=\"colorValue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                        <stop offset=\"5%\" stopColor={isProfit ? '#10b981' : '#ef4444'} stopOpacity={0.3} />\r\n                        <stop offset=\"95%\" stopColor={isProfit ? '#10b981' : '#ef4444'} stopOpacity={0} />\r\n                      </linearGradient>\r\n                    </defs>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                    <XAxis dataKey=\"month\" stroke=\"#6b7280\" style={{ fontSize: '12px' }} />\r\n                    <YAxis stroke=\"#6b7280\" style={{ fontSize: '12px' }} />\r\n                    <Tooltip\r\n                      contentStyle={{ backgroundColor: '#fff', border: '2px solid #e5e7eb', borderRadius: '8px' }}\r\n                      formatter={(value) => formatCurrency(value)}\r\n                    />\r\n                    <Area\r\n                      type=\"monotone\"\r\n                      dataKey=\"value\"\r\n                      stroke={isProfit ? '#10b981' : '#ef4444'}\r\n                      strokeWidth={3}\r\n                      fill=\"url(#colorValue)\"\r\n                    />\r\n                  </AreaChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n\r\n              {/* Price Information */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-100\">\r\n                  <h4 className=\"text-sm font-medium text-gray-600 mb-3\">Average Purchase Price</h4>\r\n                  <p className=\"text-3xl font-bold text-gray-800\">{formatCurrency(investment.avgPrice)}</p>\r\n                  <p className=\"text-sm text-gray-600 mt-2\">per unit</p>\r\n                </div>\r\n\r\n                <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-100\">\r\n                  <h4 className=\"text-sm font-medium text-gray-600 mb-3\">Current Market Price</h4>\r\n                  <p className=\"text-3xl font-bold text-gray-800\">{formatCurrency(investment.currentPrice)}</p>\r\n                  <p className=\"text-sm text-gray-600 mt-2\">per unit</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Purchase Details */}\r\n              <div className=\"bg-gray-50 rounded-xl p-6 border-2 border-gray-200\">\r\n                <h4 className=\"text-sm font-medium text-gray-600 mb-4 flex items-center\">\r\n                  <Calendar className=\"mr-2 text-indigo-600\" size={18} />\r\n                  Purchase Details\r\n                </h4>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 mb-1\">Purchase Date</p>\r\n                    <p className=\"text-sm font-semibold text-gray-800\">{formatDate(investment.purchaseDate)}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 mb-1\">Holding Period</p>\r\n                    <p className=\"text-sm font-semibold text-gray-800\">\r\n                      {Math.floor((new Date() - new Date(investment.purchaseDate)) / (1000 * 60 * 60 * 24))} days\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* TRANSACTIONS TAB */}\r\n          {activeTab === 'transactions' && (\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-bold text-gray-800 mb-4\">Transaction History</h3>\r\n              {transactions.map((txn) => (\r\n                <div key={txn.id} className=\"bg-white rounded-xl border-2 border-gray-200 p-4 hover:border-indigo-300 transition-colors\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-4\">\r\n                      <div\r\n                        className={`${\r\n                          txn.type === 'Buy' ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'\r\n                        } p-3 rounded-lg`}\r\n                      >\r\n                        {txn.type === 'Buy' ? <ArrowDownRight size={24} /> : <ArrowUpRight size={24} />}\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"font-semibold text-gray-800\">{txn.type}</p>\r\n                        <p className=\"text-sm text-gray-500\">{formatDate(txn.date)}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"font-bold text-gray-800\">{formatCurrency(txn.amount)}</p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        {txn.quantity} units @ {formatCurrency(txn.price)}\r\n                      </p>\r\n                      <span className=\"inline-block mt-1 px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded\">\r\n                        {txn.status}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* ANALYSIS TAB */}\r\n          {activeTab === 'analysis' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 border-2 border-indigo-200\">\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <Info className=\"text-indigo-600 flex-shrink-0 mt-1\" size={24} />\r\n                  <div>\r\n                    <h4 className=\"font-bold text-gray-800 mb-2\">AI Analysis Coming Soon!</h4>\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Our AI will provide detailed analysis including pros & cons, risk assessment, predictions (¬±5 years),\r\n                      sector analysis, and personalized recommendations.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Quick Stats */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"bg-white rounded-xl p-4 border-2 border-gray-200\">\r\n                  <p className=\"text-sm text-gray-600 mb-2\">Annualized Return</p>\r\n                  <p className={`text-2xl font-bold ${statusColor}`}>\r\n                    {(\r\n                      (investment.returnsPercentage /\r\n                        Math.max(1, Math.floor((new Date() - new Date(investment.purchaseDate)) / (1000 * 60 * 60 * 24 * 365)))) *\r\n                      1\r\n                    ).toFixed(2)}\r\n                    %\r\n                  </p>\r\n                </div>\r\n                <div className=\"bg-white rounded-xl p-4 border-2 border-gray-200\">\r\n                  <p className=\"text-sm text-gray-600 mb-2\">Risk Level</p>\r\n                  <p className=\"text-2xl font-bold text-orange-600\">\r\n                    {investment.type === 'Crypto' ? 'High' : investment.type === 'Stock' ? 'Medium' : 'Low'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Action Buttons Footer */}\r\n        <div className=\"sticky bottom-0 bg-gray-50 border-t-2 border-gray-200 p-6 rounded-b-2xl\">\r\n          <div className=\"flex space-x-4\">\r\n            <button className=\"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2\">\r\n              <ShoppingCart size={20} />\r\n              <span>Buy More</span>\r\n            </button>\r\n            <button className=\"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2\">\r\n              <ArrowUpRight size={20} />\r\n              <span>Sell</span>\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition-colors\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvestmentDetailModal;","// src/pages/Investments.jsx\r\n\r\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport {\r\n  TrendingUp,\r\n  TrendingDown,\r\n  Package,\r\n  DollarSign,\r\n  ArrowLeft,\r\n} from \"lucide-react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport InvestmentFilters from \"../components/investments/InvestmentFilters\";\r\nimport InvestmentTimeline from \"../components/investments/InvestmentTimeline\";\r\nimport InvestmentDetailModal from \"../components/investments/InvestmentDetailModal\";\r\nimport LoadingSpinner from \"../components/ui/LoadingSpinner\";\r\nimport { ErrorDisplay } from \"../components/ui/ErrorBoundary\";\r\nimport { useInvestments, useInvestmentSummary } from \"../hooks/useInvestments\";\r\n\r\nconst Investments = () => {\r\n  const navigate = useNavigate();\r\n  const [selectedInvestment, setSelectedInvestment] = useState(null);\r\n\r\n  // Fetch investments data from API\r\n  const { data: apiInvestments = [], isLoading, error } = useInvestments();\r\n\r\n  // Local state for live price updates\r\n  const [liveInvestments, setLiveInvestments] = useState([]);\r\n\r\n  // Initialize live investments when API data loads\r\n  useEffect(() => {\r\n    if (apiInvestments.length > 0) {\r\n      setLiveInvestments(apiInvestments.map(inv => ({\r\n        ...inv,\r\n        priceDirection: 'neutral' // Initial state\r\n      })));\r\n    }\r\n  }, [apiInvestments]);\r\n\r\n  // Real-time price simulation (MOCK_MODE only)\r\n  useEffect(() => {\r\n    const MOCK_MODE = import.meta.env.VITE_MOCK_MODE === 'true';\r\n\r\n    if (MOCK_MODE && liveInvestments.length > 0) {\r\n      console.log('üîÑ Starting real-time price simulation (every 3 seconds)');\r\n\r\n      const interval = setInterval(() => {\r\n        setLiveInvestments(prev =>\r\n          prev.map(inv => {\r\n            // Random price change between -0.5% to +0.5%\r\n            const priceChangePercent = (Math.random() - 0.5) * 0.01; // ¬±0.5%\r\n            const newCurrentPrice = inv.currentPrice * (1 + priceChangePercent);\r\n            const newCurrentValue = newCurrentPrice * inv.quantity;\r\n            const invested = inv.investedAmount || inv.invested || 0;\r\n            const newReturns = newCurrentValue - invested;\r\n            const newReturnsPercentage = invested > 0\r\n              ? ((newReturns / invested) * 100)\r\n              : 0;\r\n\r\n            return {\r\n              ...inv,\r\n              currentPrice: parseFloat(newCurrentPrice.toFixed(2)),\r\n              currentValue: parseFloat(newCurrentValue.toFixed(2)),\r\n              returns: parseFloat(newReturns.toFixed(2)),\r\n              returnsPercentage: parseFloat(newReturnsPercentage.toFixed(2)),\r\n              status: newReturns >= 0 ? 'profit' : 'loss',\r\n              priceDirection: priceChangePercent > 0 ? 'up' : priceChangePercent < 0 ? 'down' : 'neutral',\r\n              lastPriceChange: priceChangePercent\r\n            };\r\n          })\r\n        );\r\n      }, 3000); // Update every 3 seconds\r\n\r\n      return () => {\r\n        console.log('üõë Stopping real-time price simulation');\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n  }, [liveInvestments.length]); // Only depend on length to avoid infinite loop\r\n\r\n  const investmentSummary = useInvestmentSummary(liveInvestments);\r\n\r\n  // Filter states\r\n  const [filters, setFilters] = useState({\r\n    platform: \"All\",\r\n    type: \"All\",\r\n    status: \"All\",\r\n    sector: \"All\",\r\n    timeRange: \"all\",\r\n    sortBy: \"date-desc\",\r\n  });\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  // Handle filter change - Memoized with useCallback\r\n  const handleFilterChange = useCallback((filterType, value) => {\r\n    setFilters((prev) => ({\r\n      ...prev,\r\n      [filterType]: value,\r\n    }));\r\n  }, []);\r\n\r\n  // Handle search change - Memoized with useCallback\r\n  const handleSearchChange = useCallback((query) => {\r\n    setSearchQuery(query);\r\n  }, []);\r\n\r\n  // Apply filters, search, and sort - Memoized with useMemo instead of useEffect\r\n  const filteredInvestments = useMemo(() => {\r\n    let result = [...liveInvestments];\r\n\r\n    // Apply platform filter\r\n    if (filters.platform !== \"All\") {\r\n      result = result.filter((inv) => inv.platform === filters.platform);\r\n    }\r\n\r\n    // Apply type filter\r\n    if (filters.type !== \"All\") {\r\n      result = result.filter((inv) => inv.type === filters.type);\r\n    }\r\n\r\n    // Apply status filter\r\n    if (filters.status !== \"All\") {\r\n      result = result.filter(\r\n        (inv) => inv.status === filters.status.toLowerCase()\r\n      );\r\n    }\r\n\r\n    // Apply sector filter\r\n    if (filters.sector !== \"All\") {\r\n      result = result.filter((inv) => inv.sector === filters.sector);\r\n    }\r\n\r\n    // Apply time range filter\r\n    if (filters.timeRange !== \"all\") {\r\n      const now = new Date();\r\n      result = result.filter((inv) => {\r\n        const investmentDate = new Date(inv.purchaseDate);\r\n        const daysDiff = Math.floor(\r\n          (now - investmentDate) / (1000 * 60 * 60 * 24)\r\n        );\r\n\r\n        switch (filters.timeRange) {\r\n          case \"1d\":\r\n            return daysDiff <= 1;\r\n          case \"7d\":\r\n            return daysDiff <= 7;\r\n          case \"30d\":\r\n            return daysDiff <= 30;\r\n          case \"3m\":\r\n            return daysDiff <= 90;\r\n          case \"6m\":\r\n            return daysDiff <= 180;\r\n          case \"1y\":\r\n            return daysDiff <= 365;\r\n          case \"2y\":\r\n            return daysDiff <= 730;\r\n          case \"5y\":\r\n            return daysDiff <= 1825;\r\n          default:\r\n            return true;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Apply search filter\r\n    if (searchQuery.trim() !== \"\") {\r\n      const query = searchQuery.toLowerCase();\r\n      result = result.filter(\r\n        (inv) =>\r\n          inv.name.toLowerCase().includes(query) ||\r\n          inv.symbol.toLowerCase().includes(query) ||\r\n          inv.sector.toLowerCase().includes(query) ||\r\n          inv.platform.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    // Apply sorting\r\n    result.sort((a, b) => {\r\n      switch (filters.sortBy) {\r\n        case \"date-desc\":\r\n          return new Date(b.purchaseDate) - new Date(a.purchaseDate);\r\n        case \"date-asc\":\r\n          return new Date(a.purchaseDate) - new Date(b.purchaseDate);\r\n        case \"returns-desc\":\r\n          return b.returns - a.returns;\r\n        case \"returns-asc\":\r\n          return a.returns - b.returns;\r\n        case \"value-desc\":\r\n          return b.currentValue - a.currentValue;\r\n        case \"value-asc\":\r\n          return a.currentValue - b.currentValue;\r\n        default:\r\n          return 0;\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }, [filters, searchQuery, liveInvestments]);\r\n\r\n  // Handle investment click - Memoized with useCallback\r\n  const handleInvestmentClick = useCallback((investment) => {\r\n    setSelectedInvestment(investment);\r\n  }, []);\r\n\r\n  const handleCloseModal = useCallback(() => {\r\n    setSelectedInvestment(null);\r\n  }, []);\r\n\r\n  // Format currency\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat(\"en-IN\", {\r\n      style: \"currency\",\r\n      currency: \"INR\",\r\n      maximumFractionDigits: 0,\r\n    }).format(amount);\r\n  };\r\n\r\n  // Show loading spinner while fetching data\r\n  if (isLoading) {\r\n    return <LoadingSpinner fullScreen message=\"Loading your investments...\" />;\r\n  }\r\n\r\n  // Show error if data fetch fails\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4 flex items-center justify-center\">\r\n        <div className=\"max-w-md\">\r\n          <ErrorDisplay error={error} retry={() => window.location.reload()} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header Section */}\r\n        <div className=\"mb-8\">\r\n          {/* Back Button */}\r\n          <button\r\n            onClick={() => navigate(\"/dashboard\")}\r\n            className=\"flex items-center space-x-2 text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 font-medium mb-4 transition-colors px-4 py-3 rounded-lg min-h-[44px]\"\r\n          >\r\n            <ArrowLeft size={20} />\r\n            <span>Back to Dashboard</span>\r\n          </button>\r\n\r\n          {/* Page Title */}\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-2\">\r\n                My Investments\r\n              </h1>\r\n              <p className=\"text-gray-600\">\r\n                Track and manage all your investments in one place\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <div className=\"bg-white rounded-xl shadow-md p-3 md:p-4\">\r\n                <div className=\"flex items-center space-x-2 text-indigo-600\">\r\n                  <Package size={20} className=\"md:hidden\" />\r\n                  <Package size={24} className=\"hidden md:block\" />\r\n                  <span className=\"text-xl md:text-2xl font-bold\">\r\n                    {liveInvestments.length}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-xs md:text-sm text-gray-600 mt-1\">Total Investments</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Summary Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          {/* Total Invested */}\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-gray-600 text-sm font-medium\">\r\n                Total Invested\r\n              </h3>\r\n              <div className=\"bg-blue-100 p-2 rounded-lg\">\r\n                <DollarSign className=\"text-blue-600\" size={20} />\r\n              </div>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-800\">\r\n              {formatCurrency(investmentSummary.totalInvested)}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Current Value */}\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-gray-600 text-sm font-medium\">\r\n                Current Value\r\n              </h3>\r\n              <div className=\"bg-green-100 p-2 rounded-lg\">\r\n                <TrendingUp className=\"text-green-600\" size={20} />\r\n              </div>\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-800\">\r\n              {formatCurrency(investmentSummary.totalCurrentValue)}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Total Returns */}\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-gray-600 text-sm font-medium\">\r\n                Total Returns\r\n              </h3>\r\n              <div\r\n                className={`${\r\n                  investmentSummary.totalReturns >= 0\r\n                    ? \"bg-green-100\"\r\n                    : \"bg-red-100\"\r\n                } p-2 rounded-lg`}\r\n              >\r\n                {investmentSummary.totalReturns >= 0 ? (\r\n                  <TrendingUp className=\"text-green-600\" size={20} />\r\n                ) : (\r\n                  <TrendingDown className=\"text-red-600\" size={20} />\r\n                )}\r\n              </div>\r\n            </div>\r\n            <p\r\n              className={`text-2xl font-bold ${\r\n                investmentSummary.totalReturns >= 0\r\n                  ? \"text-green-600\"\r\n                  : \"text-red-600\"\r\n              }`}\r\n            >\r\n              {investmentSummary.totalReturns >= 0 ? \"+\" : \"\"}\r\n              {formatCurrency(investmentSummary.totalReturns)}\r\n            </p>\r\n            <p\r\n              className={`text-sm font-semibold mt-1 ${\r\n                investmentSummary.totalReturns >= 0\r\n                  ? \"text-green-600\"\r\n                  : \"text-red-600\"\r\n              }`}\r\n            >\r\n              ({investmentSummary.totalReturns >= 0 ? \"+\" : \"\"}\r\n              {investmentSummary.overallReturnsPercentage}%)\r\n            </p>\r\n          </div>\r\n\r\n          {/* Performance Split */}\r\n          <div className=\"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-gray-600 text-sm font-medium\">Performance</h3>\r\n              <div className=\"bg-purple-100 p-2 rounded-lg\">\r\n                <Package className=\"text-purple-600\" size={20} />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-lg font-bold text-green-600\">\r\n                  {investmentSummary.profitableInvestments}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500\">Profitable</p>\r\n              </div>\r\n              <div className=\"h-8 w-px bg-gray-300\"></div>\r\n              <div>\r\n                <p className=\"text-lg font-bold text-red-600\">\r\n                  {investmentSummary.lossInvestments}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500\">Loss</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filters Component */}\r\n        <InvestmentFilters\r\n          filters={filters}\r\n          onFilterChange={handleFilterChange}\r\n          onSearchChange={handleSearchChange}\r\n          totalResults={filteredInvestments.length}\r\n        />\r\n\r\n        {/* Timeline Component */}\r\n        <InvestmentTimeline\r\n          investments={filteredInvestments}\r\n          onInvestmentClick={handleInvestmentClick}\r\n        />\r\n        {/* Investment Detail Modal */}\r\n        {selectedInvestment && (\r\n          <InvestmentDetailModal\r\n            investment={selectedInvestment}\r\n            onClose={handleCloseModal}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Investments;\r\n"],"names":["InvestmentFilters","filters","onFilterChange","onSearchChange","totalResults","showAdvancedFilters","setShowAdvancedFilters","useState","searchQuery","setSearchQuery","handleSearch","e","value","clearSearch","handleFilterChange","filterType","resetFilters","hasActiveFilters","jsxs","jsx","Filter","SlidersHorizontal","Search","X","investmentFilters","platform","type","status","sort","sector","range","InvestmentCard","React","investment","onClick","isProfit","statusColor","statusBgColor","statusBorderColor","formatCurrency","amount","formatDate","dateString","getPlatformColor","getTypeColor","TrendingUp","TrendingDown","Calendar","InvestmentTimeline","investments","onInvestmentClick","expandedPeriods","setExpandedPeriods","groupedInvestments","now","groups","investmentDate","daysDiff","monthsDiff","yearsDiff","invs","togglePeriod","period","prev","getPeriodStats","periodInvestments","totalInvested","sum","inv","totalCurrent","totalReturns","profitCount","lossCount","getPeriodIcon","index","stats","isExpanded","isProfitable","ChevronUp","ChevronDown","InvestmentDetailModal","onClose","activeTab","setActiveTab","performanceData","useMemo","data","months","startValue","step","i","transactions","txns","DollarSign","Wallet","Package","Activity","ResponsiveContainer","AreaChart","CartesianGrid","XAxis","YAxis","Tooltip","Area","txn","ArrowDownRight","ArrowUpRight","Info","ShoppingCart","Investments","navigate","useNavigate","selectedInvestment","setSelectedInvestment","apiInvestments","isLoading","error","useInvestments","liveInvestments","setLiveInvestments","useEffect","interval","priceChangePercent","newCurrentPrice","newCurrentValue","invested","newReturns","newReturnsPercentage","investmentSummary","useInvestmentSummary","setFilters","useCallback","handleSearchChange","query","filteredInvestments","result","a","b","handleInvestmentClick","handleCloseModal","LoadingSpinner","ErrorDisplay","ArrowLeft"],"mappings":"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"}