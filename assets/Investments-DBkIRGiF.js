import{j as e}from"./data-vendor-m194QmGP.js";import{r as p,e as $,u as q}from"./react-router-CRup_Xac.js";import{i as A,E}from"./index-DlljZSOo.js";import{F as O,t as Y,u as Q,X as D,k as I,o as z,v as M,w as W,C as H,D as L,W as U,P,A as X,r as G,q as F,I as K,x as Z,y as J}from"./icons-C7Hv1O-7.js";import{R as _,A as ee,C as se,X as te,Y as re,T as ae,f as le}from"./charts-Dn5czYwy.js";import{L as ne}from"./api-CT9FkSgL.js";import{u as oe,a as ie}from"./useInvestments-Do-0LTKG.js";import"./react-vendor-Bzgz95E1.js";import"./useStore-Cvt2HlRy.js";const ce=({filters:s,onFilterChange:h,onSearchChange:n,totalResults:j})=>{const[g,N]=p.useState(!1),[d,u]=p.useState(""),i=t=>{const b=t.target.value;u(b),n(b)},x=()=>{u(""),n("")},r=(t,b)=>{h(t,b)},c=()=>{h("platform","All"),h("type","All"),h("status","All"),h("sector","All"),h("timeRange","all"),h("sortBy","date-desc"),u(""),n("")},a=s.platform!=="All"||s.type!=="All"||s.status!=="All"||s.sector!=="All"||s.timeRange!=="all"||d!=="";return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"text-indigo-600",size:24}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Filters"}),j!==void 0&&e.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-semibold",children:[j," ",j===1?"Result":"Results"]})]}),e.jsxs("button",{onClick:()=>N(!g),className:"flex items-center space-x-2 text-indigo-600 hover:text-indigo-700 font-medium transition-colors",children:[e.jsx(Y,{size:18}),e.jsxs("span",{className:"text-sm",children:[g?"Hide":"Show"," Advanced"]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name, symbol, or sector...",value:d,onChange:i,className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors"}),d&&e.jsx("button",{onClick:x,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(D,{size:20})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),e.jsx("select",{value:s.platform,onChange:t=>r("platform",t.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer",children:A.platforms.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),e.jsx("select",{value:s.type,onChange:t=>r("type",t.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer",children:A.types.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsx("select",{value:s.status,onChange:t=>r("status",t.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer",children:A.status.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsx("select",{value:s.sortBy,onChange:t=>r("sortBy",t.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer",children:A.sortBy.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),g&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t-2 border-gray-100 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sector"}),e.jsx("select",{value:s.sector,onChange:t=>r("sector",t.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer",children:A.sectors.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),e.jsx("select",{value:s.timeRange,onChange:t=>r("timeRange",t.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors cursor-pointer",children:A.timeRange.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),a&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t-2 border-gray-100",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.platform!=="All"&&e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[e.jsxs("span",{children:["Platform: ",s.platform]}),e.jsx("button",{onClick:()=>r("platform","All"),className:"hover:text-blue-900 transition-colors",children:e.jsx(D,{size:14})})]}),s.type!=="All"&&e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[e.jsxs("span",{children:["Type: ",s.type]}),e.jsx("button",{onClick:()=>r("type","All"),className:"hover:text-purple-900 transition-colors",children:e.jsx(D,{size:14})})]}),s.status!=="All"&&e.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[e.jsxs("span",{children:["Status: ",s.status]}),e.jsx("button",{onClick:()=>r("status","All"),className:"hover:text-green-900 transition-colors",children:e.jsx(D,{size:14})})]}),d&&e.jsxs("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[e.jsxs("span",{children:['Search: "',d,'"']}),e.jsx("button",{onClick:x,className:"hover:text-gray-900 transition-colors",children:e.jsx(D,{size:14})})]})]}),e.jsxs("button",{onClick:c,className:"bg-red-100 text-red-700 hover:bg-red-200 px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e.jsx(D,{size:16}),e.jsx("span",{children:"Reset All"})]})]})]})},B=$.memo(({investment:s,onClick:h})=>{const n=s.status==="profit",j=n?"text-green-600":"text-red-600",g=n?"bg-green-50":"bg-red-50",N=n?"border-green-200":"border-red-200",d=r=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(r),u=r=>new Date(r).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),i=r=>({Zerodha:"bg-blue-100 text-blue-700",Groww:"bg-green-100 text-green-700",Upstox:"bg-purple-100 text-purple-700",Binance:"bg-yellow-100 text-yellow-700"})[r]||"bg-gray-100 text-gray-700",x=r=>({Stock:"bg-indigo-100 text-indigo-700","Mutual Fund":"bg-pink-100 text-pink-700",ETF:"bg-orange-100 text-orange-700",Crypto:"bg-amber-100 text-amber-700"})[r]||"bg-gray-100 text-gray-700";return e.jsxs("div",{onClick:()=>h&&h(s),className:`bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer border-2 ${N} overflow-hidden group`,children:[e.jsx("div",{className:`h-1.5 ${n?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-4xl",children:s.logo}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-indigo-600 transition-colors",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 font-mono",children:s.symbol})]})]}),e.jsxs("div",{className:`${g} ${j} px-3 py-1 rounded-full flex items-center space-x-1`,children:[n?e.jsx(I,{size:16}):e.jsx(z,{size:16}),e.jsxs("span",{className:"font-bold text-sm",children:[s.returnsPercentage,"%"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${i(s.platform)}`,children:s.platform}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${x(s.type)}`,children:s.type}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700",children:s.sector})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Invested"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:d(s.investedAmount)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Current Value"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:d(s.currentValue)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Returns"}),e.jsxs("p",{className:`text-sm font-bold ${j}`,children:[n?"+":"",d(s.returns)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Quantity"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:s.quantity})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Avg. Price"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:d(s.avgPrice)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Current Price"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:d(s.currentPrice)})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[e.jsx(M,{size:14}),e.jsxs("span",{className:"text-xs",children:["Purchased: ",u(s.purchaseDate)]})]}),e.jsx("div",{className:"text-indigo-600 group-hover:translate-x-1 transition-transform",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]})});B.displayName="InvestmentCard";const de=({investments:s,onInvestmentClick:h})=>{const[n,j]=p.useState({}),N=(r=>{const c=new Date,a={"This Week":[],"This Month":[],"Last 3 Months":[],"Last 6 Months":[],"This Year":[],"Last Year":[],Older:[]};return r.forEach(t=>{const b=new Date(t.purchaseDate),y=Math.floor((c-b)/(1e3*60*60*24)),f=Math.floor(y/30),v=Math.floor(y/365);y<=7?a["This Week"].push(t):y<=30?a["This Month"].push(t):f<=3?a["Last 3 Months"].push(t):f<=6?a["Last 6 Months"].push(t):v===0?a["This Year"].push(t):v===1?a["Last Year"].push(t):a.Older.push(t)}),Object.entries(a).filter(([,t])=>t.length>0)})(s),d=r=>{j(c=>({...c,[r]:!c[r]}))},u=r=>{const c=r.reduce((f,v)=>f+v.investedAmount,0),a=r.reduce((f,v)=>f+v.currentValue,0),t=a-c,b=r.filter(f=>f.status==="profit").length,y=r.filter(f=>f.status==="loss").length;return{count:r.length,totalInvested:c,totalCurrent:a,totalReturns:t,returnsPercentage:c>0?(t/c*100).toFixed(2):0,profitCount:b,lossCount:y}},i=r=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(r),x=r=>r.includes("Week")||r.includes("Month")?"ðŸ”¥":r.includes("3 Months")||r.includes("6 Months")?"ðŸ“…":r.includes("Year")?"ðŸ“Š":"ðŸ›ï¸";return N.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“­"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Investments Found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search query"})]}):e.jsxs("div",{className:"space-y-6",children:[N.map(([r,c],a)=>{const t=u(c),b=n[r]!==!1,y=t.totalReturns>=0;return e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{onClick:()=>d(r),className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 cursor-pointer hover:from-indigo-100 hover:to-purple-100 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-2xl shadow-md",children:x(r)}),a<N.length-1&&e.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 w-0.5 h-6 bg-indigo-200"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r}),e.jsxs("span",{className:"bg-indigo-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:[t.count," ",t.count===1?"Investment":"Investments"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(I,{size:16,className:"text-green-600"}),e.jsxs("span",{children:[t.profitCount," Profitable"]})]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(z,{size:16,className:"text-red-600"}),e.jsxs("span",{children:[t.lossCount," Loss"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Invested"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:i(t.totalInvested)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Current Value"}),e.jsx("p",{className:"text-sm font-bold text-gray-800",children:i(t.totalCurrent)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Returns"}),e.jsxs("p",{className:`text-sm font-bold ${y?"text-green-600":"text-red-600"}`,children:[y?"+":"",i(t.totalReturns)]}),e.jsxs("p",{className:`text-xs font-semibold ${y?"text-green-600":"text-red-600"}`,children:["(",y?"+":"",t.returnsPercentage,"%)"]})]}),e.jsx("button",{className:"ml-4 p-2 hover:bg-white rounded-full transition-colors",children:b?e.jsx(W,{className:"text-indigo-600",size:24}):e.jsx(H,{className:"text-indigo-600",size:24})})]})]})}),b&&e.jsx("div",{className:"p-6 bg-gray-50",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(f=>e.jsx(B,{investment:f,onClick:h},f.id))})})]},r)}),e.jsx("div",{className:"flex justify-center py-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg flex items-center space-x-2",children:[e.jsx(M,{size:20}),e.jsxs("span",{children:["Timeline: ",s.length," Total Investments"]})]})})]})},xe=({investment:s,onClose:h})=>{const[n,j]=p.useState("overview");if(!s)return null;const g=s.status==="profit",N=g?"text-green-600":"text-red-600",d=g?"bg-green-50":"bg-red-50",u=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),i=a=>new Date(a).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),x=p.useMemo(()=>{const a=[],t=["6mo ago","5mo ago","4mo ago","3mo ago","2mo ago","1mo ago","Now"],b=s.investedAmount,v=(s.currentValue-b)/6;for(let C=0;C<7;C++)a.push({month:t[C],value:Math.round(b+v*C+(Math.random()-.5)*(v*.3))});return a},[s.investedAmount,s.currentValue]),r=p.useMemo(()=>{const a=[{id:"TXN001",type:"Buy",date:s.purchaseDate,quantity:s.quantity,price:s.avgPrice,amount:s.investedAmount,status:"Completed"}];return s.quantity>10&&a.push({id:"TXN002",type:"Buy",date:new Date(new Date(s.purchaseDate).getTime()+720*60*60*1e3).toISOString().split("T")[0],quantity:Math.floor(s.quantity*.3),price:s.avgPrice*1.05,amount:Math.floor(s.quantity*.3*s.avgPrice*1.05),status:"Completed"}),a},[s.purchaseDate,s.quantity,s.avgPrice,s.investedAmount]),c=a=>({Zerodha:"bg-blue-100 text-blue-700",Groww:"bg-green-100 text-green-700",Upstox:"bg-purple-100 text-purple-700",Binance:"bg-yellow-100 text-yellow-700"})[a]||"bg-gray-100 text-gray-700";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white pt-3 pb-0 rounded-t-2xl z-20 flex justify-center",children:e.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded-full",role:"separator","aria-label":"Swipe down to close"})}),e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-2xl z-10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-5xl bg-white rounded-xl p-3",children:s.logo}),e.jsx("p",{className:`p-4 rounded-xl ${d}`}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1",children:s.name}),e.jsx("p",{className:"text-indigo-100 font-mono text-sm mb-3",children:s.symbol}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${c(s.platform)} bg-opacity-90`,children:s.platform}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-white bg-opacity-20",children:s.type}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-white bg-opacity-20",children:s.sector})]})]})]}),e.jsx("button",{onClick:h,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors",children:e.jsx(D,{size:24})})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-6 bg-gray-50",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Invested"}),e.jsx(L,{size:16,className:"text-blue-600"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-800",children:u(s.investedAmount)})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Current Value"}),e.jsx(U,{size:16,className:"text-purple-600"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-800",children:u(s.currentValue)})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Returns"}),g?e.jsx(I,{size:16,className:"text-green-600"}):e.jsx(z,{size:16,className:"text-red-600"})]}),e.jsxs("p",{className:`text-lg font-bold ${N}`,children:[g?"+":"",u(s.returns)]}),e.jsxs("p",{className:`text-xs font-semibold ${N}`,children:["(",g?"+":"",s.returnsPercentage,"%)"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Quantity"}),e.jsx(P,{size:16,className:"text-orange-600"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-800",children:s.quantity}),e.jsx("p",{className:"text-xs text-gray-500",children:"units"})]})]}),e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex space-x-4 sm:space-x-8",children:[e.jsxs("button",{onClick:()=>j("overview"),className:`py-3 px-3 sm:px-4 font-medium transition-all relative min-h-[44px] active:scale-95 ${n==="overview"?"text-indigo-600":"text-gray-500 hover:text-gray-700 active:text-gray-900"}`,children:["Overview",n==="overview"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t"})]}),e.jsxs("button",{onClick:()=>j("transactions"),className:`py-3 px-3 sm:px-4 font-medium transition-all relative min-h-[44px] active:scale-95 ${n==="transactions"?"text-indigo-600":"text-gray-500 hover:text-gray-700 active:text-gray-900"}`,children:["Transactions",n==="transactions"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t"})]}),e.jsxs("button",{onClick:()=>j("analysis"),className:`py-3 px-3 sm:px-4 font-medium transition-all relative min-h-[44px] active:scale-95 ${n==="analysis"?"text-indigo-600":"text-gray-500 hover:text-gray-700 active:text-gray-900"}`,children:["Analysis",n==="analysis"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-indigo-600 rounded-t"})]})]})}),e.jsxs("div",{className:"p-6",children:[n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx(X,{className:"mr-2 text-indigo-600",size:20}),"Performance (Last 6 Months)"]}),e.jsx(_,{width:"100%",height:250,children:e.jsxs(ee,{data:x,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:g?"#10b981":"#ef4444",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:g?"#10b981":"#ef4444",stopOpacity:0})]})}),e.jsx(se,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(te,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),e.jsx(re,{stroke:"#6b7280",style:{fontSize:"12px"}}),e.jsx(ae,{contentStyle:{backgroundColor:"#fff",border:"2px solid #e5e7eb",borderRadius:"8px"},formatter:a=>u(a)}),e.jsx(le,{type:"monotone",dataKey:"value",stroke:g?"#10b981":"#ef4444",strokeWidth:3,fill:"url(#colorValue)"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-100",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-3",children:"Average Purchase Price"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u(s.avgPrice)}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"per unit"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border-2 border-purple-100",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-3",children:"Current Market Price"}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u(s.currentPrice)}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"per unit"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-600 mb-4 flex items-center",children:[e.jsx(M,{className:"mr-2 text-indigo-600",size:18}),"Purchase Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Purchase Date"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:i(s.purchaseDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Holding Period"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[Math.floor((new Date-new Date(s.purchaseDate))/(1e3*60*60*24))," days"]})]})]})]})]}),n==="transactions"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Transaction History"}),r.map(a=>e.jsx("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-4 hover:border-indigo-300 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`${a.type==="Buy"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"} p-3 rounded-lg`,children:a.type==="Buy"?e.jsx(G,{size:24}):e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:a.type}),e.jsx("p",{className:"text-sm text-gray-500",children:i(a.date)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-gray-800",children:u(a.amount)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.quantity," units @ ",u(a.price)]}),e.jsx("span",{className:"inline-block mt-1 px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded",children:a.status})]})]})},a.id))]}),n==="analysis"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 border-2 border-indigo-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(K,{className:"text-indigo-600 flex-shrink-0 mt-1",size:24}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"AI Analysis Coming Soon!"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Our AI will provide detailed analysis including pros & cons, risk assessment, predictions (Â±5 years), sector analysis, and personalized recommendations."})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 border-2 border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Annualized Return"}),e.jsxs("p",{className:`text-2xl font-bold ${N}`,children:[(s.returnsPercentage/Math.max(1,Math.floor((new Date-new Date(s.purchaseDate))/(1e3*60*60*24*365)))*1).toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border-2 border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Risk Level"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.type==="Crypto"?"High":s.type==="Stock"?"Medium":"Low"})]})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t-2 border-gray-200 p-6 rounded-b-2xl",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Z,{size:20}),e.jsx("span",{children:"Buy More"})]}),e.jsxs("button",{className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[e.jsx(F,{size:20}),e.jsx("span",{children:"Sell"})]}),e.jsx("button",{onClick:h,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-3 px-6 rounded-lg transition-colors",children:"Close"})]})})]})})},Ne=()=>{const s=q(),[h,n]=p.useState(null),{data:j=[],isLoading:g,error:N}=oe(),[d,u]=p.useState([]);p.useEffect(()=>{j.length>0&&u(j.map(l=>({...l,priceDirection:"neutral"})))},[j]),p.useEffect(()=>{if(d.length>0){console.log("ðŸ”„ Starting real-time price simulation (every 3 seconds)");const l=setInterval(()=>{u(o=>o.map(m=>{const k=(Math.random()-.5)*.01,w=m.currentPrice*(1+k),T=w*m.quantity,S=m.investedAmount||m.invested||0,R=T-S,V=S>0?R/S*100:0;return{...m,currentPrice:parseFloat(w.toFixed(2)),currentValue:parseFloat(T.toFixed(2)),returns:parseFloat(R.toFixed(2)),returnsPercentage:parseFloat(V.toFixed(2)),status:R>=0?"profit":"loss",priceDirection:k>0?"up":k<0?"down":"neutral",lastPriceChange:k}}))},3e3);return()=>{console.log("ðŸ›‘ Stopping real-time price simulation"),clearInterval(l)}}},[d.length]);const i=ie(d),[x,r]=p.useState({platform:"All",type:"All",status:"All",sector:"All",timeRange:"all",sortBy:"date-desc"}),[c,a]=p.useState(""),t=p.useCallback((l,o)=>{r(m=>({...m,[l]:o}))},[]),b=p.useCallback(l=>{a(l)},[]),y=p.useMemo(()=>{let l=[...d];if(x.platform!=="All"&&(l=l.filter(o=>o.platform===x.platform)),x.type!=="All"&&(l=l.filter(o=>o.type===x.type)),x.status!=="All"&&(l=l.filter(o=>o.status===x.status.toLowerCase())),x.sector!=="All"&&(l=l.filter(o=>o.sector===x.sector)),x.timeRange!=="all"){const o=new Date;l=l.filter(m=>{const k=new Date(m.purchaseDate),w=Math.floor((o-k)/(1e3*60*60*24));switch(x.timeRange){case"1d":return w<=1;case"7d":return w<=7;case"30d":return w<=30;case"3m":return w<=90;case"6m":return w<=180;case"1y":return w<=365;case"2y":return w<=730;case"5y":return w<=1825;default:return!0}})}if(c.trim()!==""){const o=c.toLowerCase();l=l.filter(m=>m.name.toLowerCase().includes(o)||m.symbol.toLowerCase().includes(o)||m.sector.toLowerCase().includes(o)||m.platform.toLowerCase().includes(o))}return l.sort((o,m)=>{switch(x.sortBy){case"date-desc":return new Date(m.purchaseDate)-new Date(o.purchaseDate);case"date-asc":return new Date(o.purchaseDate)-new Date(m.purchaseDate);case"returns-desc":return m.returns-o.returns;case"returns-asc":return o.returns-m.returns;case"value-desc":return m.currentValue-o.currentValue;case"value-asc":return o.currentValue-m.currentValue;default:return 0}}),l},[x,c,d]),f=p.useCallback(l=>{n(l)},[]),v=p.useCallback(()=>{n(null)},[]),C=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(l);return g?e.jsx(ne,{fullScreen:!0,message:"Loading your investments..."}):N?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4 flex items-center justify-center",children:e.jsx("div",{className:"max-w-md",children:e.jsx(E,{error:N,retry:()=>window.location.reload()})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>s("/dashboard"),className:"flex items-center space-x-2 text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 font-medium mb-4 transition-colors px-4 py-3 rounded-lg min-h-[44px]",children:[e.jsx(J,{size:20}),e.jsx("span",{children:"Back to Dashboard"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-2",children:"My Investments"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage all your investments in one place"})]}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-3 md:p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-indigo-600",children:[e.jsx(P,{size:20,className:"md:hidden"}),e.jsx(P,{size:24,className:"hidden md:block"}),e.jsx("span",{className:"text-xl md:text-2xl font-bold",children:d.length})]}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:"Total Investments"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-gray-600 text-sm font-medium",children:"Total Invested"}),e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(L,{className:"text-blue-600",size:20})})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:C(i.totalInvested)})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-gray-600 text-sm font-medium",children:"Current Value"}),e.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:e.jsx(I,{className:"text-green-600",size:20})})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:C(i.totalCurrentValue)})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-gray-600 text-sm font-medium",children:"Total Returns"}),e.jsx("div",{className:`${i.totalReturns>=0?"bg-green-100":"bg-red-100"} p-2 rounded-lg`,children:i.totalReturns>=0?e.jsx(I,{className:"text-green-600",size:20}):e.jsx(z,{className:"text-red-600",size:20})})]}),e.jsxs("p",{className:`text-2xl font-bold ${i.totalReturns>=0?"text-green-600":"text-red-600"}`,children:[i.totalReturns>=0?"+":"",C(i.totalReturns)]}),e.jsxs("p",{className:`text-sm font-semibold mt-1 ${i.totalReturns>=0?"text-green-600":"text-red-600"}`,children:["(",i.totalReturns>=0?"+":"",i.overallReturnsPercentage,"%)"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-gray-600 text-sm font-medium",children:"Performance"}),e.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:e.jsx(P,{className:"text-purple-600",size:20})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:i.profitableInvestments}),e.jsx("p",{className:"text-xs text-gray-500",children:"Profitable"})]}),e.jsx("div",{className:"h-8 w-px bg-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-red-600",children:i.lossInvestments}),e.jsx("p",{className:"text-xs text-gray-500",children:"Loss"})]})]})]})]}),e.jsx(ce,{filters:x,onFilterChange:t,onSearchChange:b,totalResults:y.length}),e.jsx(de,{investments:y,onInvestmentClick:f}),h&&e.jsx(xe,{investment:h,onClose:v})]})})};export{Ne as default};
//# sourceMappingURL=Investments-DBkIRGiF.js.map
