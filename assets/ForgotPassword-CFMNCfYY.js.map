{"version":3,"file":"ForgotPassword-CFMNCfYY.js","sources":["../../src/pages/auth/ForgotPassword.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Mail, Lock, Eye, EyeOff, ArrowRight, ArrowLeft, CheckCircle2, Sparkles, AlertCircle } from 'lucide-react';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { validateEmail, validatePassword, validateOTP } from '../../utils/validation';\r\n\r\nconst ForgotPassword = () => {\r\n  const navigate = useNavigate();\r\n  const { sendOTP, resetPassword, isAuthenticated } = useAuth();\r\n\r\n  // Step state\r\n  const [currentStep, setCurrentStep] = useState(1); // 1: Email, 2: OTP, 3: New Password, 4: Success\r\n  const totalSteps = 4;\r\n\r\n  // Form data\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    otp: '',\r\n    newPassword: '',\r\n    confirmPassword: '',\r\n  });\r\n\r\n  // Errors state\r\n  const [errors, setErrors] = useState({});\r\n  const [touched, setTouched] = useState({});\r\n\r\n  // UI state\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [resendTimer, setResendTimer] = useState(0);\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate('/dashboard', { replace: true });\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  // Resend OTP timer\r\n  useEffect(() => {\r\n    if (resendTimer > 0) {\r\n      const timer = setTimeout(() => setResendTimer(resendTimer - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [resendTimer]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleBlur = (field) => {\r\n    setTouched((prev) => ({ ...prev, [field]: true }));\r\n  };\r\n\r\n  // Step 1: Email validation\r\n  const validateStep1 = () => {\r\n    const emailValidation = validateEmail(formData.email);\r\n\r\n    setErrors({\r\n      email: emailValidation.error,\r\n    });\r\n\r\n    setTouched({\r\n      email: true,\r\n    });\r\n\r\n    return emailValidation.isValid;\r\n  };\r\n\r\n  // Step 2: OTP validation\r\n  const validateStep2 = () => {\r\n    const otpValidation = validateOTP(formData.otp);\r\n\r\n    setErrors({\r\n      otp: otpValidation.error,\r\n    });\r\n\r\n    setTouched({\r\n      otp: true,\r\n    });\r\n\r\n    return otpValidation.isValid;\r\n  };\r\n\r\n  // Step 3: Password validation\r\n  const validateStep3 = () => {\r\n    const passwordValidation = validatePassword(formData.newPassword);\r\n    const confirmPasswordValidation =\r\n      formData.newPassword === formData.confirmPassword\r\n        ? { isValid: true, error: '' }\r\n        : { isValid: false, error: 'Passwords do not match' };\r\n\r\n    setErrors({\r\n      newPassword: passwordValidation.error,\r\n      confirmPassword: confirmPasswordValidation.error,\r\n    });\r\n\r\n    setTouched({\r\n      newPassword: true,\r\n      confirmPassword: true,\r\n    });\r\n\r\n    return passwordValidation.isValid && confirmPasswordValidation.isValid;\r\n  };\r\n\r\n  // Handle Step 1: Send OTP\r\n  const handleSendOTP = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateStep1()) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrors({});\r\n\r\n    try {\r\n      const result = await sendOTP(formData.email);\r\n\r\n      if (result.success) {\r\n        setCurrentStep(2);\r\n        setResendTimer(60);\r\n      } else {\r\n        setErrors({ form: result.error || 'Failed to send OTP. Please try again.' });\r\n      }\r\n    } catch (error) {\r\n      setErrors({ form: 'An unexpected error occurred. Please try again.' });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle Resend OTP\r\n  const handleResendOTP = async () => {\r\n    if (resendTimer > 0) return;\r\n\r\n    setIsSubmitting(true);\r\n    const result = await sendOTP(formData.email);\r\n    setIsSubmitting(false);\r\n\r\n    if (result.success) {\r\n      setResendTimer(60);\r\n      setErrors({});\r\n    } else {\r\n      setErrors({ form: result.error || 'Failed to resend OTP. Please try again.' });\r\n    }\r\n  };\r\n\r\n  // Handle Step 2: Verify OTP\r\n  const handleVerifyOTP = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateStep2()) {\r\n      return;\r\n    }\r\n\r\n    // Move to next step (no API call needed, verification happens in final step)\r\n    setCurrentStep(3);\r\n    setErrors({});\r\n  };\r\n\r\n  // Handle Step 3: Reset Password\r\n  const handleResetPassword = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateStep3()) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setErrors({});\r\n\r\n    try {\r\n      const result = await resetPassword(formData.email, formData.newPassword, formData.otp);\r\n\r\n      if (result.success) {\r\n        setCurrentStep(4);\r\n      } else {\r\n        setErrors({ form: result.error || 'Failed to reset password. Please try again.' });\r\n      }\r\n    } catch (error) {\r\n      setErrors({ form: 'An unexpected error occurred. Please try again.' });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setCurrentStep((prev) => Math.max(prev - 1, 1));\r\n    setErrors({});\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-8\">\r\n          <Link to=\"/\" className=\"inline-flex items-center justify-center space-x-2 mb-6\">\r\n            <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-3 rounded-xl shadow-lg\">\r\n              <Sparkles className=\"text-white\" size={28} />\r\n            </div>\r\n            <span className=\"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\r\n              Spark Investment\r\n            </span>\r\n          </Link>\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            {currentStep === 4 ? 'Password Reset Successful' : 'Reset Password'}\r\n          </h2>\r\n          <p className=\"text-gray-600\">\r\n            {currentStep === 1 && \"Enter your email to receive a verification code\"}\r\n            {currentStep === 2 && \"Enter the verification code sent to your email\"}\r\n            {currentStep === 3 && \"Create a new password for your account\"}\r\n            {currentStep === 4 && \"Your password has been reset successfully\"}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Progress Indicator */}\r\n        {currentStep < 4 && (\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex justify-between mb-2\">\r\n              {[1, 2, 3].map((step) => (\r\n                <div\r\n                  key={step}\r\n                  className={`flex-1 h-2 mx-1 rounded-full transition-all ${\r\n                    step <= currentStep ? 'bg-indigo-600' : 'bg-gray-200'\r\n                  }`}\r\n                ></div>\r\n              ))}\r\n            </div>\r\n            <div className=\"text-center text-sm font-semibold text-gray-600\">\r\n              Step {currentStep} of {totalSteps - 1}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Content */}\r\n        <div className=\"bg-white rounded-2xl shadow-xl border-2 border-gray-100 p-8\">\r\n          {/* Form Error */}\r\n          {errors.form && (\r\n            <div className=\"mb-6 bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start space-x-3\">\r\n              <AlertCircle className=\"text-red-600 flex-shrink-0 mt-0.5\" size={20} />\r\n              <p className=\"text-sm text-red-800 font-medium\">{errors.form}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 1: Email Input */}\r\n          {currentStep === 1 && (\r\n            <form onSubmit={handleSendOTP} className=\"space-y-6\">\r\n              <div>\r\n                <label htmlFor=\"email\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  Email Address\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n                    <Mail className=\"text-gray-400\" size={20} />\r\n                  </div>\r\n                  <input\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    autoComplete=\"email\"\r\n                    value={formData.email}\r\n                    onChange={handleInputChange}\r\n                    onBlur={() => handleBlur('email')}\r\n                    className={`block w-full pl-12 pr-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${\r\n                      errors.email && touched.email\r\n                        ? 'border-red-300 focus:border-red-500 focus:ring-red-200'\r\n                        : 'border-gray-200 focus:border-indigo-500 focus:ring-indigo-200'\r\n                    }`}\r\n                    placeholder=\"you@example.com\"\r\n                  />\r\n                </div>\r\n                {errors.email && touched.email && (\r\n                  <p className=\"mt-2 text-sm text-red-600 flex items-center space-x-1\">\r\n                    <AlertCircle size={14} />\r\n                    <span>{errors.email}</span>\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                className=\"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-4 rounded-xl font-bold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 group\"\r\n              >\r\n                {isSubmitting ? (\r\n                  <>\r\n                    <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                    <span>Sending...</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <span>Send Verification Code</span>\r\n                    <ArrowRight size={20} className=\"group-hover:translate-x-1 transition-transform\" />\r\n                  </>\r\n                )}\r\n              </button>\r\n\r\n              <div className=\"text-center\">\r\n                <Link to=\"/login\" className=\"text-sm font-semibold text-indigo-600 hover:text-indigo-700 transition-colors\">\r\n                  Back to Sign In\r\n                </Link>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {/* Step 2: OTP Verification */}\r\n          {currentStep === 2 && (\r\n            <form onSubmit={handleVerifyOTP} className=\"space-y-6\">\r\n              <div>\r\n                <label htmlFor=\"otp\" className=\"block text-sm font-semibold text-gray-700 mb-2 text-center\">\r\n                  Verification Code\r\n                </label>\r\n                <p className=\"text-sm text-gray-600 text-center mb-4\">\r\n                  Code sent to <strong>{formData.email}</strong>\r\n                </p>\r\n                <input\r\n                  id=\"otp\"\r\n                  name=\"otp\"\r\n                  type=\"text\"\r\n                  inputMode=\"numeric\"\r\n                  maxLength=\"6\"\r\n                  value={formData.otp}\r\n                  onChange={handleInputChange}\r\n                  onBlur={() => handleBlur('otp')}\r\n                  className={`block w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all text-center text-2xl font-bold tracking-widest ${\r\n                    errors.otp && touched.otp\r\n                      ? 'border-red-300 focus:border-red-500 focus:ring-red-200'\r\n                      : 'border-gray-200 focus:border-indigo-500 focus:ring-indigo-200'\r\n                  }`}\r\n                  placeholder=\"000000\"\r\n                />\r\n                {errors.otp && touched.otp && (\r\n                  <p className=\"mt-2 text-sm text-red-600 flex items-center justify-center space-x-1\">\r\n                    <AlertCircle size={14} />\r\n                    <span>{errors.otp}</span>\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleResendOTP}\r\n                  disabled={resendTimer > 0 || isSubmitting}\r\n                  className=\"text-sm font-semibold text-indigo-600 hover:text-indigo-700 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors\"\r\n                >\r\n                  {resendTimer > 0 ? `Resend code in ${resendTimer}s` : 'Resend code'}\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"flex items-center space-x-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleBack}\r\n                  className=\"flex items-center space-x-2 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-all\"\r\n                >\r\n                  <ArrowLeft size={20} />\r\n                  <span>Back</span>\r\n                </button>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-4 rounded-xl font-bold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 group\"\r\n                >\r\n                  <span>Verify Code</span>\r\n                  <ArrowRight size={20} className=\"group-hover:translate-x-1 transition-transform\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Demo Info */}\r\n              <div className=\"bg-blue-50 border-2 border-blue-200 rounded-xl p-4\">\r\n                <p className=\"text-sm text-blue-800 text-center\">\r\n                  <strong>Demo Mode:</strong> Check console for the OTP code\r\n                </p>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {/* Step 3: New Password */}\r\n          {currentStep === 3 && (\r\n            <form onSubmit={handleResetPassword} className=\"space-y-6\">\r\n              <div>\r\n                <label htmlFor=\"newPassword\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  New Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n                    <Lock className=\"text-gray-400\" size={20} />\r\n                  </div>\r\n                  <input\r\n                    id=\"newPassword\"\r\n                    name=\"newPassword\"\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    value={formData.newPassword}\r\n                    onChange={handleInputChange}\r\n                    onBlur={() => handleBlur('newPassword')}\r\n                    className={`block w-full pl-12 pr-12 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${\r\n                      errors.newPassword && touched.newPassword\r\n                        ? 'border-red-300 focus:border-red-500 focus:ring-red-200'\r\n                        : 'border-gray-200 focus:border-indigo-500 focus:ring-indigo-200'\r\n                    }`}\r\n                    placeholder=\"Create a strong password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    className=\"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors\"\r\n                  >\r\n                    {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n                  </button>\r\n                </div>\r\n                {errors.newPassword && touched.newPassword && (\r\n                  <p className=\"mt-2 text-sm text-red-600 flex items-center space-x-1\">\r\n                    <AlertCircle size={14} />\r\n                    <span>{errors.newPassword}</span>\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"confirmPassword\" className=\"block text-sm font-semibold text-gray-700 mb-2\">\r\n                  Confirm New Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n                    <Lock className=\"text-gray-400\" size={20} />\r\n                  </div>\r\n                  <input\r\n                    id=\"confirmPassword\"\r\n                    name=\"confirmPassword\"\r\n                    type={showConfirmPassword ? 'text' : 'password'}\r\n                    value={formData.confirmPassword}\r\n                    onChange={handleInputChange}\r\n                    onBlur={() => handleBlur('confirmPassword')}\r\n                    className={`block w-full pl-12 pr-12 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${\r\n                      errors.confirmPassword && touched.confirmPassword\r\n                        ? 'border-red-300 focus:border-red-500 focus:ring-red-200'\r\n                        : 'border-gray-200 focus:border-indigo-500 focus:ring-indigo-200'\r\n                    }`}\r\n                    placeholder=\"Re-enter your password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                    className=\"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600 transition-colors\"\r\n                  >\r\n                    {showConfirmPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n                  </button>\r\n                </div>\r\n                {errors.confirmPassword && touched.confirmPassword && (\r\n                  <p className=\"mt-2 text-sm text-red-600 flex items-center space-x-1\">\r\n                    <AlertCircle size={14} />\r\n                    <span>{errors.confirmPassword}</span>\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex items-center space-x-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleBack}\r\n                  className=\"flex items-center space-x-2 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-all\"\r\n                >\r\n                  <ArrowLeft size={20} />\r\n                  <span>Back</span>\r\n                </button>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting}\r\n                  className=\"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-4 rounded-xl font-bold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\r\n                >\r\n                  {isSubmitting ? (\r\n                    <>\r\n                      <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                      <span>Resetting...</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <span>Reset Password</span>\r\n                      <CheckCircle2 size={20} />\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {/* Step 4: Success */}\r\n          {currentStep === 4 && (\r\n            <div className=\"text-center space-y-6\">\r\n              <div className=\"flex justify-center\">\r\n                <div className=\"bg-green-100 p-4 rounded-full\">\r\n                  <CheckCircle2 className=\"text-green-600\" size={64} />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">Password Reset Complete!</h3>\r\n                <p className=\"text-gray-600\">\r\n                  Your password has been successfully reset. You can now sign in with your new password.\r\n                </p>\r\n              </div>\r\n\r\n              <Link\r\n                to=\"/login\"\r\n                className=\"inline-flex items-center justify-center space-x-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-8 rounded-xl font-bold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl group\"\r\n              >\r\n                <span>Sign In Now</span>\r\n                <ArrowRight size={20} className=\"group-hover:translate-x-1 transition-transform\" />\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n"],"names":["ForgotPassword","navigate","useNavigate","sendOTP","resetPassword","isAuthenticated","useAuth","currentStep","setCurrentStep","useState","totalSteps","formData","setFormData","errors","setErrors","touched","setTouched","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","isSubmitting","setIsSubmitting","resendTimer","setResendTimer","useEffect","timer","handleInputChange","e","name","value","prev","handleBlur","field","validateStep1","emailValidation","validateEmail","validateStep2","otpValidation","validateOTP","validateStep3","passwordValidation","validatePassword","confirmPasswordValidation","handleSendOTP","result","handleResendOTP","handleVerifyOTP","handleResetPassword","handleBack","jsxs","Link","jsx","Sparkles","step","AlertCircle","Mail","Fragment","ArrowRight","ArrowLeft","Lock","EyeOff","Eye","CheckCircle2"],"mappings":"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"}